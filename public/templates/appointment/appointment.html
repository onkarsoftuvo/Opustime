<div class="app_sidebar" ng-class="{'app_sidebar_big' : openMenu}">
<div class="top_icn">
    <span>
      <a style="color:#fff" ng-click="getEvents()"><i class="fa fa-refresh"></i></a>
     </span>
  </div>
  <a href="" class="close_menu" ng-show="showClose" ng-click="closeSideMenu()" ng-class="{'dontShow':practitionarList.length==0}"></a>
  <div class="top_dropdown" ng-show="beforeExpand!=true">
    <ul class="nav navbar-nav navbar-right" ng-show="BussinessList.length>1">
      <li uib-dropdown on-toggle="toggled(open)" class="nav-notification">
        <a href id="" uib-dropdown-toggle>
          {{selected_business.name}}
        </a>
        <ul class="dropdown-menu noti" aria-labelledby="simple-dropdown" ng-scrollbars rebuild-on-resize>
            <li ng-repeat="business in BussinessList">
              <a href="" ng-click="selectBusiness(business.id, true)">{{business.name}}</a>
            </li>
        </ul>
      </li>
    </ul>
  </div>

  <!-- before expand -->
  <div ng-show="beforeExpand">
  
  <div class="top_icn">
    <span>
      <a href="" ng-click="openCalender()"><i class="map_marker"></i></a>
      <md-tooltip class="customtooltip angular-animate online-tooltip small_tooltip" md-direction="right">
            <span>{{'appointment.openSlider' | translate:translationData}}</span>
       </md-tooltip>
     </span>
  </div>
  <div class="com_name">
    <h4>
      <span ng-repeat="businessName in busName.slice().reverse()">{{businessName.name}}</span>
    </h4>
  </div>
  <ul class="btm_links" ng-show="practitionarList.length!=0">
    <li>
      <a href="" ng-click="openCalender()"></a>
      <md-tooltip class="customtooltip angular-animate online-tooltip small_tooltip" md-direction="right">
          <span>{{'appointment.calender' | translate:translationData}}</span>
     </md-tooltip>
    </li>
    <li>
      <a href="" ng-click="openWaitList()"></a>
      <md-tooltip class="customtooltip angular-animate online-tooltip small_tooltip" md-direction="right">
          <span>{{'appointment.waitList' | translate:translationData}}</span>
     </md-tooltip>
    </li>
    <li>
      <a href="" ng-click="openPractitioner()"></a>
      <md-tooltip class="customtooltip angular-animate online-tooltip small_tooltip" md-direction="right">
          <span>{{'appointment.practitioner' | translate:translationData}}</span>
     </md-tooltip>
    </li>
    <li>
      <a href="" ng-click="openFilter()"></a>
      <md-tooltip class="customtooltip angular-animate online-tooltip small_tooltip" md-direction="right">
          <span>{{'appointment.filter' | translate:translationData}}</span>
     </md-tooltip>
    </li>
  </ul>
  </div>

  <!-- after expand -->
  <div  ng-show="beforeExpand!=true" class="expandedArea" ng-class="{'noData':practitionarList.length==0}">
  <div class="tabbings" ng-show="practitionarList.length!=0">
    <ul class="list-inline">
      <li ng-class="{'active': addActiveCalender}">
        <a href="" ng-click="calenderTabbing()"><span>{{'appointment.calender' | translate:translationData}}</span></a>
      </li>
      <li ng-class="{'active': addActivePra}" >
        <a href=""  ng-click="praTabbing()"><span>{{'appointment.practitioner' | translate:translationData}}</span></a>
      </li>
      <li ng-class="{'active': addActiveWait}">
        <a href=""  ng-click="waitlistTabbing()"><span>{{'appointment.waitList' | translate:translationData}}</span></a>
      </li>
      <li ng-class="{'active': addActiveFilter}">
        <a href=""  ng-click="filterTabbing()"><span>{{'appointment.filter' | translate:translationData}}</span></a>
      </li>
    </ul>
  </div>
  <div class="content_area" ng-show="practitionarList.length!=0" ng-scrollbars rebuild-on-resize>
    <!-- radios -->
    <ul ng-show="PractitionerRadio">
      <li ng-repeat="practitionars in practitionarList">
        <div class="radio radios">
          <label class="text-capitalize">
            <input type="radio" name="practitionars" ng-click="addResourcesId(practitionarsId)" ng-model="practitionarsId" value="{{practitionars.id}}" ng-checked="practitionars.id==selectedDoc"><span></span>{{practitionars.name}}
          </label>
        </div>
      </li>
    </ul>

    <!-- checkboxes -->
    <ul ng-show="PractitionerCheckbox">
      <li ng-repeat="practitionars in practitionarList">
        <div class="checkbox radios checkboxs">
          <label class="text-capitalize">
            <input type="checkbox" ng-change="addResources()" ng-model="practitionars.ischecked"><span></span>{{practitionars.name}}
          </label>
        </div>
      </li>
    </ul>

    <!-- filters checkboxes -->
    <ul ng-show="filterCheckbox">
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn patient_arrived"></i>
            <input type="checkbox" ng-model="filter.patient_arrival" ng-change="filterAppointments(filter)"><span></span>{{'appointment.patientArrived' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn patient_not_arrived"></i>
            <input type="checkbox" ng-model="filter.patient_not_arrival" ng-change="filterAppointments(filter)"><span></span>{{'appointment.patientAbsent' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn invoice_paid"></i>
            <input type="checkbox" ng-model="filter.invoice_paid" ng-change="filterAppointments(filter)"><span></span>{{'appointment.invoicePaid' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn invoice_not_paid"></i>
            <input type="checkbox" ng-model="filter.outstanding_invoice" ng-change="filterAppointments(filter)"><span></span>{{'appointment.outstandingInvoice' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn treatment_final"></i>
            <input type="checkbox" ng-model="filter.tr_note_final" ng-change="filterAppointments(filter)"><span></span>{{'appointment.treatMentNoteFinal' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn treatment_draft"></i>
            <input type="checkbox" ng-model="filter.tr_note_draft" ng-change="filterAppointments(filter)"><span></span>{{'appointment.treatMentNoteDraft' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn appointment_com"></i>
            <input type="checkbox" ng-model="filter.appnt_complete" ng-change="filterAppointments(filter)"><span></span>{{'appointment.appointmentCompleted' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label>
            <i class="icn appointment_pen"></i>
            <input type="checkbox" ng-model="filter.appnt_pending" ng-change="filterAppointments(filter)"><span></span>{{'appointment.appointmentPending' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label class="big_label">
            <i class="icn further_app"></i>
            <input type="checkbox" ng-model="filter.appnt_future" ng-change="filterAppointments(filter)"><span></span>{{'appointment.patientWithFutureApp' | translate:translationData}}
          </label>
        </div>
      </li>
      <li>
        <div class="checkbox radios checkboxs filters">
          <label class="big_label">
            <i class="icn further_app"></i>
            <input type="checkbox" ng-model="filter.no_appnt_future" ng-change="filterAppointments(filter)"><span></span>{{'appointment.patientWithNoFutureApp' | translate:translationData}}
          </label>
        </div>
      </li>
    </ul>

    <!-- wait list -->
    <div class="waaitListSec" ng-show="waitList">
      <div class="waitlistfilter">
        <a href="" ng-click="addWaitListModal()" ng-if="appPerm.create">{{'appointment.addToWaitlist' | translate:translationData}}</a>
        <div class="row">
          <div class="col-sm-12">
            <div class="form_group">
              <label class="text-capitalize">{{'appointment.patient' | translate:translationData}}</label>
              <input type="text" class="form-control" placeholder="Search Client" ng-model="filterPatient" ng-change="filterWaitlist(filterPatient,filterDoc,filterBus)">
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form_group">
            <label>{{'appointment.practitioner' | translate:translationData}}</label>
              <select class="form-control" ng-model="filterDoc" ng-change="filterWaitlist(filterPatient,filterDoc,filterBus)">
              <option value="all">{{'appointment.allPract' | translate:translationData}}</option>
                <option ng-repeat="doc in allDoctersList" value="{{doc.id}}">{{doc.full_name}}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form_group">
              <label>{{'appointment.bussieness' | translate:translationData}}</label>
              <select class="form-control" ng-model="filterBus" ng-change="filterWaitlist(filterPatient,filterDoc,filterBus)">
                <option value="all">{{'appointment.allBusiness' | translate:translationData}}</option>
                <option ng-repeat="business in BussinessList" value="{{business.id}}">{{business.name}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="waitListAcc">
        <div class="no_waitlist text-center" ng-show="wait_List.length==0">
          <i class="fa fa-clock-o"></i>
          <p>{{'appointment.noWaitList' | translate:translationData}}</p>
        </div>
        <uib-accordion close-others="true">
          <uib-accordion-group class="my-group" ng-repeat="waitList in wait_List">
            <uib-accordion-heading >
              <div class="waitlistHeading">
                <ul>
                  <li>
                    <div class="radios checkboxs filters waitlist">
                      <label><small ng-click="goToPatientDetailPage(waitList.patient_id, $event)">{{waitList.patient_name}}</small>
                        <a href="" ng-click="openDeletePopup(waitList.id, $event)" ng-if="appPerm.destroy"><i class="fa fa-trash"></i></a>
                        <a href="" ng-click="editWaitList(waitList.id, $event)" ng-if="appPerm.modify"><i class="fa fa-pencil"></i></a>
                        <a href="" class="dots"><i class="fa fa-circle"></i> <i class="fa fa-circle"></i> <i class="fa fa-circle"></i></a>
                      </label>
                    </div>
                  </li>
                </ul>
              </div>
            </uib-accordion-heading>
            <div class="waitlistdetail">
              <div class="row">
                <div class="col-sm-6">
                  <label>{{'appointment.availbility' | translate:translationData}}</label>
                </div>
                <div class="col-sm-6 availDays">
                  <span ng-class="{'active':waitList.availability.monday}">M</span>
                  <span ng-class="{'active':waitList.availability.tuesday}">T</span>
                  <span ng-class="{'active':waitList.availability.wednesday}">W</span>
                  <span ng-class="{'active':waitList.availability.thursday}">T</span>
                  <span ng-class="{'active':waitList.availability.friday}">F</span>
                  <span ng-class="{'active':waitList.availability.saturday}">S</span>
                  <span ng-class="{'active':waitList.availability.sunday}">S</span>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  <label>{{'appointment.appType' | translate:translationData}}</label>
                </div>
                <div class="col-sm-6">
                  <label class="waitlistinfo">{{waitList.appointment_type}}</label>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  <label>{{'appointment.practitioner' | translate:translationData}}</label>
                </div>
                <div class="col-sm-6 availDays waitlistprac">
                  <span ng-repeat="prac in waitList.practitioners">{{prac.fname}}{{prac.lname}}<small>{{prac.first_name}} {{prac.last_name}}</small></span>
                </div>
              </div>
              <div class="row" ng-show="waitList.phone.length!=0">
                <div class="col-sm-6">
                  <label>{{'appointment.phone' | translate:translationData}}</label>
                </div>
                <div class="col-sm-6">
                  <label class="waitlistinfo phone_no" ng-repeat="phone in waitList.phone">
                  {{phone.contact_no}} <small>({{phone.contact_type}})</small>
                  </label>
                </div>
              </div>
              <div class="row" ng-show="waitList.extra_info!=null">
                <div class="col-sm-6">
                  <label>{{'appointment.extraInfo' | translate:translationData}}</label>
                </div>
                <div class="col-sm-6">
                  <label class="waitlistinfo smallnote">{{waitList.extra_info}}
                    <md-tooltip class="customtooltip angular-animate online-tooltip" md-direction="right">
                        <span>{{waitList.extra_info}}</span>
                   </md-tooltip>
                  </label>
                </div>
              </div>
            </div>
          </uib-accordion-group>
        </uib-accordion>
      </div>
    </div>

    <!-- calender -->
    <div style="display:inline-block; min-height:225px;" class="dates_con" ng-show="calenderOpen">
      <uib-datepicker ng-model="currentMonth" class="calendar well well-sm" datepicker-options="inlineOptionss" ng-change="updateWeek(currentMonth)" show-weeks="false" id="calendar"></uib-datepicker>
    </div>
    <a href="" ng-click="nextCal(currentMonth)" ng-show="calenderOpen" class="cal_nav nv_right">next</a>
    <a href="" ng-click="preCal(currentMonth)" ng-show="calenderOpen" class="cal_nav nv_left">pre</a>

    <div style="display:inline-block; min-height:225px;" class="dates_con no-next" ng-show="calenderOpen">
      <uib-datepicker ng-model="nextMonth" class="well well-sm"   ng-change="updateWeekNext(nextMonth)" show-weeks="false"></uib-datepicker>
    </div>
    <div class="skip_ahead" ng-show="calenderOpen">
      <h4>{{'appointment.skipAhead' | translate:translationData}}</h4>
      <div class="row">
        <div class="col-xs-6">
          <h5 class="text-left">{{'appointment.weeks' | translate:translationData}}</h5>
          <ul class="list-inline">
            <li><a href="" value="one" ng-click="gotoNextweek(07)">1</a></li>
            <li><a href="" value="two" ng-click="gotoNextweek(14)">2</a></li>
            <li><a href="" value="three" ng-click="gotoNextweek(21)">3</a></li>
            <li><a href="" value="four" ng-click="gotoNextweek(28)">4</a></li>
            <li><a href="" value="five" ng-click="gotoNextweek(35)">5</a></li>
            <li><a href="" value="six" ng-click="gotoNextweek(42)">6</a></li>
          </ul>
        </div>
        <div class="col-xs-6">
          <h5 class="text-right" style="padding-right:5px;">{{'appointment.months' | translate:translationData}}</h5>
          <ul class="list-inline">
            <li><a href="" value="one" ng-click="gotoNextmonth(1)">1</a></li>
            <li><a href="" value="two" ng-click="gotoNextmonth(2)">2</a></li>
            <li><a href="" value="three" ng-click="gotoNextmonth(3)">3</a></li>
            <li><a href="" value="four" ng-click="gotoNextmonth(4)">4</a></li>
            <li><a href="" value="five" ng-click="gotoNextmonth(5)">5</a></li>
            <li><a href="" value="six" ng-click="gotoNextmonth(6)">6</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="availability" ng-show="calenderOpen">
      <h4>{{'appointment.availbility' | translate:translationData}}</h4>
      <a href="" ng-click="addAvailable()" ng-class="{'active':availableActivate}" ng-if="appPerm.create">{{'appointment.oneOffAvail' | translate:translationData}}</a>
      <a href="" ng-click="addUnavailable()" ng-class="{'active':unavailableActivate}" ng-if="appPerm.create">{{'appointment.unavailbility' | translate:translationData}}</a>
      <a href="" ui-sref="settings.users">{{'appointment.adjustSchedule' | translate:translationData}}</a>
    </div>
    </div>
  </div>
</div>
<div class="mapping_area " ng-class="{'mapping_area_small' : openedMenu}">
  <div class="topBar" ng-show="reSchedule">
    <p>{{'appointment.rescheduleApp' | translate:translationData}} {{reScheduleData.patient_detail.patient_name}} {{'appointment.scheduleOnly' | translate:translationData}}</p>
    <button ng-click="closeReschedule()">x</button>
  </div>
  <div class="topBar" ng-show="reScheduleUnavail">
    <p>{{'appointment.rescheduleUnavail' | translate:translationData}}</p>
    <button ng-click="closeReschedule()">x</button>
  </div>
  <div class="topBar" ng-show="anotherApp">
    <p>{{'appointment.bookingApp' | translate:translationData}} {{anotherAppData.patient_detail.patient_name}} <!-- <span>{{'appointment.appAlready' | translate:translationData}}</span> --></p>
    <button ng-click="closeAnother()">x</button>
  </div>
  <div class="topBar" ng-show="unavailableActivate">
    <p>{{'appointment.selectTimeforUnavail' | translate:translationData}}</p>
    <button ng-click="closeAnother()">x</button>
  </div>
  <div class="topBar" ng-show="availableActivate">
    <p>{{'appointment.timeFormAvail' | translate:translationData}}</p>
    <button ng-click="closeAnother()">x</button>
  </div>
  <div class="calendar" id="fullcalendar" ng-model="eventSources2" calendar="myCalendar3" ui-calendar="uiConfig.calendar" resources="resources" ng-show="practitionarList.length!=0"></div>
  <div class="no_prac_to_display" ng-show="practitionarList.length==0">
    <div class="inner_display">
    <i></i>
    <p>{{'appointment.noPractitionar' | translate:translationData}} <br>
        {{'appointment.goTo' | translate:translationData}}
        <a href="" ui-sref="settings.users"> {{'appointment.settingsUserPract' | translate:translationData}}</a> {{'appointment.allocateTime' | translate:translationData}}
    </p>
    </div>
  </div>
  <script type="text/javascript">
    var a="";
    $(document).on("click",".fc-time-grid-event",function(){
      a=$(this);
    });
  </script>
</div>
<div ui-view class="newView"></div>

<!-- new Appointment popup -->
<script type="text/ng-template" id="newAppointment.html">
  <div class="popUp">
    <div class="loading popUpLoading" ng-show="popUpLoading">
      <div class="sidebar-load-bar animated slideInDown">
        <div class="sidebar-bar"></div>
        <div class="sidebar-bar"></div>
        <div class="sidebar-bar"></div>
      </div>
    </div>
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-4">
                    <h3>{{'appointment.newApp' | translate:translationData}}</h3>
                </div>
                <div class="col-sm-8 text-right">
                  <button class="cancel_btn" type="button" ng-click="cancel()">
                    {{'button.cancel' | translate:translationData}}
                  </button>
                  <button class="save_btn" type="submit" ng-disabled="endTimeError" ng-show="!stopSubmit" form="createApp">
                    {{'button.create' | translate:translationData}}
                  </button>
                  <button class="save_btn" type="submit" ng-disabled="true" ng-show="stopSubmit">
                    {{'button.create' | translate:translationData}}
                  </button>
                  <div class="error" ng-show="have_error">
                    <p class="error-msg">{{app_error | translate:translationData}}</p>
                  </div>
                </div>
            </div>
      </div>
      <div class="navigate_arrow" ng-if="hv_next_pre">
        <div class="arrow_btn pre_btn">
            <a href=""></a>
        </div>
        <div class="arrow_btn next_btn">
            <a href=""></a>
        </div>
      </div>
      <div class="top_tabbing tabbing_menu ng-scope" ng-if="editInvoice">
        <div class="col col-sm-6">
            <a href="" class="active"><i class="icon invoice_icn"></i> <span>{{'invoice.Invoice_Summery' | translate}}</span></a>
        </div>
        <div class="col col-sm-6">
            <a href="" ng-class="{'disabled' : InvoiceDetails.outstanding_balance==0}" ui-sref="payment.new.invoice({invoice_id:InvoiceDetails.tax_invoice})"><i class="icon product_icn"></i> {{'button.enterPayment' | translate:translationData}}</a>
        </div>
      </div>
      <div class="tab_contents" ng-class="{'have_tabs' : editInvoice}">
        <div class="top_detail_con" ng-if="editInvoice">
          <div class="detail_con left_side_con">
            <h4>{{Contact.title}} {{Contact.first_name}} {{Contact.last_name}}</h4>
            <div class="detail_content">
                <div class="row">
                    <div class="col-sm-5">
                        <h5>{{'invoice.invoiceTo' | translate:translationData}} : {{InvoiceDetails.invoice_to}}</h5>
                        <h5>{{'payment.patient' | translate:translationData}} :
                          <a ui-sref="patient-detail({patient_id:InvoiceDetails.patient_id})">{{InvoiceDetails.patient}}</a>
                        </h5>
                        <h5 ng-show="InvoiceDetails.appt_date!=null">{{'invoice.appDate' | translate:translationData}} : {{InvoiceDetails.appt_date}}</h5>
                    </div>
                    <div class="col-sm-4">
                        <h5>{{'invoice.taxinvoice' | translate:translationData}} : {{InvoiceDetails.tax_invoice}}</h5>
                        <h5>{{'invoice.practitioner' | translate:translationData}} : {{InvoiceDetails.practitioner}}</h5>
                    </div>
                    <div class="col-sm-3">
                        <div class="note_con">
                            {{!InvoiceDetails.notes? "Note" : InvoiceDetails.notes}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="detail_content right_side_con">
          <div class="invoice_balance">
            <p ng-if="InvoiceDetails.patient_credit_balance" class="credit_blnc"><span>{{InvoiceDetails.patient | capitalize}}</span>  {{'invoice.hasAccount' | translate:translationData}} <span>${{InvoiceDetails.patient_credit_balance}}</span></p>
            <p ng-if="InvoiceDetails.patient_outstanding_balance" class="outstanding_amount"><span>{{InvoiceDetails.patient | capitalize}}</span> {{'invoice.hasOutstanding' | translate:translationData}} <span>${{InvoiceDetails.patient_outstanding_balance}}</span></p>
          </div>
        </div>
      </div>
      <form ng-submit="creatAppointment(appointment)"  name="createApp" novalidate id="createApp">
        <div class="row trim_row new_patient" ng-if="newAppointmentSection">
          <div class="col-sm-12">
            <h4>{{'appointment.newPatient' | translate:translationData}}</h4>
          </div>
          <div class="col-sm-3">
            <label>{{'appointment.title' | translate:translationData}}</label>
            <div class="form-group">
              <select class="form-control" ng-model="appointment.new_patient.title">
                <option value=""></option>
                <option value="mr">{{'title.mr' | translate:translationData}}</option>
                <option value="mrs">{{'title.mrs' | translate:translationData}}</option>
                <option value="ms">{{'title.ms' | translate:translationData}}</option>
                <option value="Miss">{{'title.miss' | translate:translationData}}</option>
                <option value="dr">{{'title.dr' | translate:translationData}}</option>
                <option value="Master">{{'title.master' | translate:translationData}}</option>
                <option value="RMT">{{'title.rmt' | translate:translationData}}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <label>{{'label.first_name' | translate:translationData}}</label>
            <div class="form-group">
              <input type="text" class="form-control" ng-model="appointment.new_patient.first_name" autofocus="">
            </div>
          </div>
          <div class="col-sm-3">
            <label>{{'label.last_name' | translate:translationData}}</label>
            <div class="form-group">
              <input type="text" class="form-control" ng-model="appointment.new_patient.last_name">
            </div>
          </div>
          <div class="col-sm-3 phone_no">
            <label>{{'appointment.phone' | translate:translationData}}</label>
            <div class="form-group">
              <input ng-if="appointment.new_patient.contact_type !='work'" type="text" class="form-control" ng-model="appointment.new_patient.contact_no">
              <input ng-if="appointment.new_patient.contact_type =='work'" type="text" class="form-control" ng-model="appointment.new_patient.ext_no" style="float: left; width: 20% !important;">
              <input ng-if="appointment.new_patient.contact_type =='work'" type="text" class="form-control" ng-model="appointment.new_patient.contact_no" style="float: left; width: 40% !important;">
              <select class="form-control" ng-model="appointment.new_patient.contact_type">
                <option class="mobile">{{'label.mobile' | translate:translationData}}</option>
                <option value="home">{{'label.home' | translate:translationData}}</option>
                <option value="work">{{'label.work' | translate:translationData}}</option>
                <option value="fax">{{'label.fax' | translate:translationData}}</option>
                <option value="other">{{'label.other' | translate:translationData}}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <label>{{'appointment.DOB' | translate:translationData}}</label>
            <div class="form-group">
              <input type="text" class="form-control cal" uib-datepicker-popup="{{format}}" is-open="dob_picker.opened" min-date="minDate" max-date="dobMaxDate" datepicker-options="dateOptions" ng-click="DOB($event)" ng-model="appointment.new_patient.dob" show-button-bar="false">
            </div>
          </div>
          <div class="col-sm-3">
            <label>{{'appointment.reminder' | translate:translationData}}</label>
            <div class="form-group">
              <select class="form-control" ng-model="appointment.new_patient.reminder_type">
                <option value="None">{{'select.option_none' | translate:translationData}}</option>
                <option value="SMS">{{'select.option_SMS' | translate:translationData}}</option>
                <option value="Email">{{'select.option_email' | translate:translationData}}</option>
                <option value="SMS & Email">{{'select.option_sms_email' | translate:translationData}}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-6">
            <label>{{'appointment.gender' | translate:translationData}}</label>
            <div class="radio_con">
              <div class="col-sm-3">
                <label>
                  <input type="radio" ng-model="appointment.new_patient.gender" name="gender" value="Male"><span></span> {{'appointment.male' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-3">
                <label>
                  <input type="radio" ng-model="appointment.new_patient.gender" name="gender" value="Female"><span></span> {{'appointment.female' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-3">
                <label>
                  <input type="radio" ng-model="appointment.new_patient.gender" name="gender" value="Not Applicable"><span></span> {{'appointment.notApplicable' | translate:translationData}}
                </label>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="col-sm-3">
            <label>{{'appointment.email' | translate:translationData}}</label>
            <div class="form-group">
              <input type="text" class="form-control" placeholder="{{'appointment.enterEmail' | translate:translationData}}" ng-model="appointment.new_patient.email">
            </div>
          </div>
          <div class="col-sm-3">
            <!-- <label>{{'appointment.email' | translate:translationData}}</label> -->
            <div class="form-group" >
              <label>{{'patient_form.ReferenceNumber' | translate:translationData}}</label>
              <input type="text" class="form-control"  ng-model="appointment.new_patient.reference_number">
            </div>
          </div>

          <div class="col-sm-3">
            <div class="form-group">
              <label>{{'patient_form.ReferralType' | translate:translationData}} {{Patient.referral_type}}</label>
              <select ng-model="appointment.new_patient.referral_type"  class="form-control" ng-change="BindRefreltype()">
                <option value="">{{'patient_form.None' | translate:translationData}}</option>
                <option ng-repeat="ReferralType in ReferralTypeList"  value="{{ReferralType.referral_source}}">{{ReferralType.referral_source}}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-3" ng-if="appointment.new_patient.referral_type != 'Other' && appointment.new_patient.referral_type != null && appointment.new_patient.referral_type != 'none' && appointment.new_patient.referral_type != ''">
            <div class="form-group" ng-if="appointment.new_patient.referral_type == 'Contact'">
              <label>{{'patient_form.Referrer' | translate:translationData}}</label>
              <md-content class="md-padding">
                <md-autocomplete md-selected-item="appointment.new_patient.referrer" md-search-text="searchTextp" md-items="item in Contactf(searchTextp)" md-item-text="item.first_name +' '+ item.last_name" placeholder="{{'settings.placeholder_search' | translate:translationData}}" md-min-length="1">
                  <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>
                  <md-item-template>
                    <span md-highlight-text="searchTextp" md-highlight-flags="^i">{{item.first_name}} {{item.last_name}}</span>
                  </md-item-template>
                </md-autocomplete>
              </md-content >
            </div>
            <div class="form-group" ng-if="appointment.new_patient.referral_type == 'Patient'">
              <label>{{'patient_form.Referrer' | translate:translationData}}</label>
              <md-content class="md-padding">
                <md-autocomplete md-selected-item="appointment.new_patient.referrer" md-search-text="searchTextp" md-items="item in PatientListRefinef(searchTextp)" md-item-text="item.first_name +' '+ item.last_name" placeholder="{{'settings.placeholder_search' | translate:translationData}}" md-min-length="1">
                  <span md-highlight-text="searchText">{{item.first_name}} {{item.last_name}}</span>
                  <md-item-template>
                    <span md-highlight-text="searchTextp" md-highlight-flags="^i">{{item.first_name}} {{item.last_name}}</span>
                  </md-item-template>
                </md-autocomplete>
              </md-content >
            </div>
            <div class="form-group" ng-if="appointment.new_patient.referral_type!= 'Patient' && appointment.new_patient.referral_type != 'Contact' && appointment.new_patient.referral_type!=null && !!appointment.new_patient.referral_type &&  appointment.new_patient.referral_type != 'Other'  &&  SelectedReferral_type_subcats.length" >
                <label>{{'patient_form.Sub-Category-Type' | translate:translationData}}</label>
                <select ng-model="appointment.new_patient.referrer"  class="form-control">
                  <option value="">{{'patient_form.None' | translate:translationData}}</option>
                  <option ng-repeat="ReferralSubcat in SelectedReferral_type_subcats" value="{{ReferralSubcat.id}}">{{ReferralSubcat.sub_name}}</option>
                </select>
            </div>
          </div>
          <div class="col-sm-3" ng-if="!!appointment.new_patient.referral_type">
            <div class="form-group">
              <label>{{'patient_form.Extra_information' | translate:translationData}}</label>
              <input type="text" class="form-control" ng-model="appointment.new_patient.extra_info"/>
            </div>
          </div>

          <div class="col-sm-3 red_link">
            <div class="">
              <label>&nbsp;</label>
              <a href="" ng-click="chooseExisting()" class="add_link"><i class="add_icn"></i>{{'appointment.chooseFromExisting' | translate:translationData}}</a>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>


        <div class="row trim_row exist_patient" ng-if="existingPatient">
          <div class="col-sm-1">
            <h4>{{'appointment.patient' | translate:translationData}}</h4>
          </div>
          <div class="col-sm-6">
            <div class="form-group patient_list_dropdown auto-complete-typehead">
              <input type="text" class="form-control search_box focus_me" placeholder="{{'appointment.searchPatient' | translate:translationData}}" typeahead="patients.id as patients.first_name +'&nbsp;'+ patients.dob  for patients in PatientListData | filter:$viewValue | limitTo:30" typeahead-input-formatter="formatLabel($model)" ng-model="appointment.patient_id" autofocus required="required">
              <div class="alreadyExist patient_exist" ng-show="waitlistExist">
                {{getListName.patient_name}} {{'appointment.alreadyInWaitlist' | translate:translationData}}
              </div>
              <div class="alreadyExist patient_exist" ng-show="notValidPatient">
                {{'appointment.selectValid' | translate:translationData}}
              </div>
            </div>
          </div>
          <div class="col-sm-5">
              <a href="" class="add_link" ng-click="creatNewAppointment()"><i class="add_icn"></i>{{'appointment.createNewPatient' | translate:translationData}}</a>
              <a href="" class="add_link" ng-click="fromWaitList()"><i class="add_icn"></i>{{'appointment.selectFromWaitlist' | translate:translationData}}</a>
          </div>
        </div>

        <div class="row trim_row exist_patient" ng-if="chooseWaitList">
          <div class="col-sm-3">
            <h4>{{'appointment.patientFromWaitlist' | translate:translationData}}</h4>
          </div>
          <div class="col-sm-6">
            <select class="form-control" ng-model="waitListPatient" ng-change="selectFromWaitList(waitListPatient)" ng-show="nowaitList">
                <option value="null">{{'appointment.pickPatient' | translate:translationData}}</option>
                <option ng-repeat="urgentList in WaitListContent.urgent" value="{{urgentList.id}}">{{urgentList.patient_name}}</option>
                <option ng-repeat="noturgentList in WaitListContent.not_urgent" value="{{noturgentList.id}}">{{noturgentList.patient_name}}</option>
              </select>
              <select ng-show="!nowaitList" class="form-control">
                <option>{{'appointment.noPatient' | translate:translationData}}</option>
              </select>
          </div>
          <div class="col-sm-3 red_link">
            <a href="" class="add_link" ng-click="fromExistingList()">{{'appointment.chooseFromAllPatient' | translate:translationData}}</a>
          </div>
          <div class="col-sm-12">
            <div class="form-group patient_list_dropdown waitListContent">
              <div class="">
                <ul ng-show="nowaitList">
                  <li ng-repeat="con in waitListData.patient_contacts"><i class="fa fa-phone"></i> {{con.contact_no}}<small>({{con.contact_type}})</small></li>
                </ul>
                <div class="waitListNote" ng-show="waitListData.extra_info!=null">
                  {{waitListData.extra_info}}
                </div>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="row trim_row">
          <div class="col-sm-3">
            <div class="form-group">
              <label>{{'appointment.appType' | translate:translationData}}</label>
               <select class="form-control" ng-model="appointment.appointment_type_id" ng-change="updateDuration(appointmentTypeList, appointment.appointment_type_id)">
                <option value="unavailable_block">Unavailable Block</option>
                <optgroup ng-repeat="cat in appointmentTypes" label="{{cat.category}}">
                  <option ng-repeat="appointments in cat.category_list" value="{{appointments.id}}">{{appointments.name}}</option>
                </optgroup>
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label>{{'appointment.practitioner' | translate:translationData}}</label>
              <select class="form-control" ng-model="appointment.user_id" ng-options="practitionars.id as practitionars.name for practitionars in practitionarList" ng-change="updatePrac(appointmentTypeList,appointment.user_id)" style="    text-transform: capitalize;">
              </select>
            </div>
          </div>
          <div class="col-sm-2">
            <label>{{'appointment.date' | translate:translationData}}</label>
            <div class="form-group">
              <input type="text" class="form-control cal calander" uib-datepicker-popup="{{format}}" is-open="date.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-click="open($event)" ng-model="appointment.appnt_date" show-button-bar="false" ng-change="futureDate()">
              <div class="alreadyExist" ng-show="inFuture">
                {{'appointment.addToWaitlistforFuture' | translate:translationData}}
              </div>
            </div>
          </div>
          <div class="col-sm-4 time_con">
            <label>{{'appointment.time' | translate:translationData}}</label>
            <div class="form-group">
              <select class="form-control very_small" ng-model="appointment.start_hr" ng-options="n for n in range(00,23)" ng-change="checkValidation(appointment)">
              </select>
              <select class="form-control very_small" ng-model="appointment.start_min" ng-options="n for n in range(00,55,5)" ng-change="checkValidation(appointment)">
              </select>
              <span class="gap">{{'appointment.to' | translate:translationData}}</span>
              <select class="form-control very_small" ng-model="appointment.end_hr" ng-options="n for n in range(00,23)" ng-change="checkValidation(appointment)">
              </select>
              <select class="form-control very_small" ng-model="appointment.end_min" ng-options="n for n in range(00,55,5)" ng-change="checkValidation(appointment)">
              </select>
            </div>
            <div class="error_msg" ng-show="endTimeError">
              {{'appointment.endTimeError' | translate:translationData}}
            </div>
            <div class="error_msg" ng-show="endTimeError">
              {{'appointment.endTimeError' | translate:translationData}}
            </div>
            <div class="alreadyExist not_avail" ng-show="isAvailDocter">
              {{availabilityData.doctor}} {{'appointment.notAvail' | translate:translationData}}
            </div>
          </div>

          <div class="col-sm-6">
            <label>{{'appointment.note' | translate:translationData}}</label>
            <div class="form-group">
              <textarea class="form-control" ng-class="{big_textarea:appointment.repeat_by=='week'}" placeholder="Enter Text" ng-model="appointment.notes"></textarea>
              <a href="" class="add_link margin_15" ng-click="addToWaitlist()" ng-show="waitListShow"><i class="add_icn"></i>{{'appointment.add_To_Waitlist' | translate:translationData}}</a>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="row repeat_by_con">
              <div class="col-sm-4">
                <label>{{'appointment.repeat' | translate:translationData}}</label>
                <div class="form-group">
                  <select class="form-control" ng-model="appointment.repeat_by">
                    <option value="None">{{'appointment.none' | translate:translationData}}</option>
                    <option value="day">{{'appointment.daily' | translate:translationData}}</option>
                    <option value="week">{{'appointment.weekly' | translate:translationData}}</option>
                    <option value="month">{{'appointment.monthly' | translate:translationData}}</option>
                  </select>
                  <small>&nbsp;</small>
                </div>
              </div>
              <div class="col-sm-4" ng-show="appointment.repeat_by!='None' && appointment.repeat_by != null">
                <label>{{'appointment.repeatEvery' | translate:translationData}}</label>
                <div class="form-group">
                  <input type="text" class="form-control very_small text-center" ng-model="appointment.repeat_start">
                  <small>{{appointment.repeat_by}}</small>
                </div>
              </div>
              <div class="col-sm-4" ng-show="appointment.repeat_by!='None' && appointment.repeat_by != null">
                <label>{{'appointment.endsAfter' | translate:translationData}}</label>
                <div class="form-group">
                  <input type="text" class="form-control very_small text-center" ng-model="appointment.repeat_end">
                  <small>{{'appointment.ocurrences' | translate:translationData}}</small>
                </div>
              </div>
              <div class="col-sm-12" ng-show="appointment.repeat_by=='week'">
                <div class="form-group">
                  <div class="avail_days">
                    <label>
                      <p>M</p>
                      <input type="checkbox" ng-model="weekDays.day1" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>T</p>
                      <input type="checkbox" ng-model="weekDays.day2" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>W</p>
                      <input type="checkbox" ng-model="weekDays.day3" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>T</p>
                      <input type="checkbox" ng-model="weekDays.day4" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>F</p>
                      <input type="checkbox" ng-model="weekDays.day5" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>S</p>
                      <input type="checkbox" ng-model="weekDays.day6" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>S</p>
                      <input type="checkbox" ng-model="weekDays.day0" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-12" ng-show="waitListData.associated_appointment!=null">
            <div class="options_con">
              <label>
                <input type="checkbox" ng-model="associated_app.isChecked"><span></span> {{'appointment.delete' | translate:translationData}} {{waitListData.appnt_patient_name}}'s {{waitListData.associated_appointment_date}} {{'appointment.app' | translate:translationData}}
              </label>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="row trim_row wait_list" ng-if="waitList">
          <div class="col-sm-12">
            <h4>{{'appointment.add_To_Waitlist' | translate:translationData}}</h4>
          </div>
          <div class="col-sm-6">
            <label>{{'appointment.availbility' | translate:translationData}}</label>
            <div class="form-group">
              <div class="avail_days">
                <label>
                  <p>M</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.monday"><span></span>
                </label>
                <label>
                  <p>T</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.tuesday"><span></span>
                </label>
                <label>
                  <p>W</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.wednesday"><span></span>
                </label>
                <label>
                  <p>T</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.thursday"><span></span>
                </label>
                <label>
                  <p>F</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.friday"><span></span>
                </label>
                <label>
                  <p>S</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.saturday"><span></span>
                </label>
                <label>
                  <p>S</p>
                  <input type="checkbox" ng-model="appointment.wait_list.availability.sunday"><span></span>
                </label>
              </div>
            </div>
            <div class="options" ng-if="BussinessList.length>1">
              <label>{{'appointment.businesses' | translate:translationData}}</label>
              <div class="form-group">
                <div class="options_con">
                  <label class="col-sm-6" ng-repeat="bussiness in BussinessList">
                    <input type="checkbox" ng-model="bussiness.ischecked"><span></span> {{bussiness.name}}
                  </label>
                </div>
                <button ng-click="selectAllBussiness()" type="button">{{'appointment.selectAll' | translate:translationData}}</button>
                <button class="deselect" ng-click="deSelectAllBussiness()" type="button">{{'appointment.deselectAll' | translate:translationData}}</button>
              </div>
            </div>
          </div>

          <div class="col-sm-6 options">
            <label ng-show="DoctersList.length>1">{{'appointment.practitioner' | translate:translationData}}</label>
            <div class="form-group" ng-if="DoctersList.length>1">
              <div class="options_con">
                <label class="col-sm-6" ng-repeat="docter in DoctersList">
                  <input type="checkbox" ng-model="docter.ischecked"><span></span> {{docter.full_name}}
                </label>
              </div>
              <button ng-click="selectAllDocters()" type="button">{{'appointment.selectAll' | translate:translationData}}</button>
              <button class="deselect" ng-click="deSelectAllDocters()" type="button">{{'appointment.deselectAll' | translate:translationData}}</button>
            </div>
            <label>{{'appointment.options' | translate:translationData}}</label>
            <div class="form-group">
              <div class="options_con">
                <label class="col-sm-4">
                  <input type="checkbox" ng-model="appointment.wait_list.options.urgent"><span></span> {{'appointment.urgent' | translate:translationData}}
                </label>
                <label class="col-sm-8">
                  <input type="checkbox" ng-model="appointment.wait_list.options.outside_hours"><span></span> {{'appointment.onlyOutside' | translate:translationData}}
                </label>
              </div>
            </div>
          </div>
          <div class="col-sm-12">
            <label>{{'appointment.extraInfo' | translate:translationData}}</label>
            <div class="form-group">
              <textarea class="form-control" placeholder="{{'appointment.enterTextHere' | translate:translationData}}"ng-model="appointment.wait_list.extra_info"></textarea>
              <a href="" class="add_link margin_15" ng-click="doNotShowWaitlist()">{{'appointment.doNotAddToWaitlist' | translate:translationData}}</a>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>
      </form>
    </div>
  </div>
</script>

<!-- edit Appointment popup -->
<script type="text/ng-template" id="editAppointment.html">
  <div class="popUp">
    <div class="loading popUpLoading" ng-show="popUpLoading">
      <div class="sidebar-load-bar animated slideInDown">
        <div class="sidebar-bar"></div>
        <div class="sidebar-bar"></div>
        <div class="sidebar-bar"></div>
      </div>
    </div>
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-4">
                  <h3>{{'appointment.edit_app' | translate:translationData}}</h3>
                </div>
                <div class="col-sm-8 text-right">
                  <button class="cancel_btn" type="button" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</button>
                  <button class="save_btn" type="submit" ng-disabled="endTimeError" form="updateApp">{{'button.update' | translate:translationData}}</button>
                  <div class="error" ng-show="have_error">
                    <p class="error-msg">{{app_error | translate:translationData}}</p>
                  </div>
                </div>
            </div>
      </div>
      <div class="tab_contents">
      <form ng-submit="updateAppointment(appointment)" name="updateApp" novalidate id="updateApp">
        <div class="row trim_row exist_patient">
          <div class="col-sm-1">
            <h4>{{'appointment.patient' | translate:translationData}}</h4>
          </div>
          <div class="col-sm-11">
            <div class="form-group patient_list_dropdown">
              <input type="text" class="form-control search_box focus_me" placeholder="{{'appointment.searchPatient' | translate:translationData}}" typeahead="patients.id as patients.first_name +'&nbsp;'+ patients.last_name  for patients in PatientListData | filter:$viewValue" typeahead-input-formatter="formatLabel($model)"ng-model="appointment.patient_id" autofocus required="required">
              <div class="alreadyExist" ng-if="waitlistExist">
                {{getListName.patient_name}} {{'appointment.alreadyInWaitlist' | translate:translationData}}
              </div>
              <div class="alreadyExist patient_exist" ng-if ="notValidPatient">
                {{'appointment.selectValid' | translate:translationData}}
              </div>
            </div>
          </div>
        </div>

        <div class="row trim_row">
          <div class="col-sm-3">
            <div class="form-group">
              <label>{{'appointment.appType' | translate:translationData}}</label>
               <select class="form-control" ng-model="appointment.appointment_type_id" ng-change="updateDuration(appointmentTypeList, appointment.appointment_type_id)">
                <optgroup ng-repeat="cat in appointmentTypes" label="{{cat.category}}">
                <option ng-repeat="appointments in cat.category_list" value="{{appointments.id}}">{{appointments.name}}</option>
              </optgroup>
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label>{{'appointment.practitioner' | translate:translationData}}</label>
              <select class="form-control" ng-model="appointment.user_id" ng-options="practitionars.id as practitionars.name for practitionars in practitionarList" ng-change="updatePrac(appointmentTypeList,appointment.user_id)">
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <label>{{'appointment.date' | translate:translationData}}</label>
            <div class="form-group">
              <input type="text" class="form-control cal calander" uib-datepicker-popup="{{format}}" is-open="date.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-click="open($event)" ng-model="appointment.appnt_date" show-button-bar="false" ng-change="checkAvailDate()">
            </div>
          </div>
          <div class="col-sm-3 time_con">
            <label>{{'appointment.time' | translate:translationData}}</label>
            <div class="form-group">
              <select class="form-control very_small" ng-model="appointment.start_hr" ng-options="n for n in range(00,23)" ng-change="checkValidationEdit(appointment)">
              </select>
              <select class="form-control very_small" ng-model="appointment.start_min" ng-options="n for n in range(00,55,5)" ng-change="checkValidationEdit(appointment)">
              </select>
              <span>{{'appointment.to' | translate:translationData}}</span>
              <select class="form-control very_small" ng-model="appointment.end_hr" ng-options="n for n in range(00,23)" ng-change="checkValidationEdit(appointment)">
              </select>
              <select class="form-control very_small" ng-model="appointment.end_min" ng-options="n for n in range(00,55,5)" ng-change="checkValidationEdit(appointment)">
              </select>
            </div>
            <div class="error_msg" ng-show="endTimeError">
              {{'appointment.endTimeError' | translate:translationData}}
            </div>
            <div class="error_msg" ng-show="endTimeError">
              {{'appointment.endTimeError' | translate:translationData}}
            </div>
            <div class="alreadyExist not_avail" ng-show="isAvailDocter">
              {{availabilityData.doctor}} {{'appointment.notAvail' | translate:translationData}}
            </div>
          </div>

          <div class="col-sm-6">
            <label>{{'appointment.note' | translate:translationData}}</label>
            <div class="form-group">
              <textarea class="form-control" ng-class="{big_textarea:appointment.repeat_by=='week'}" placeholder="Enter Text" ng-model="appointment.notes"></textarea>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="row repeat_by_con">
              <div class="col-sm-4">
                <label>{{'appointment.repeat' | translate:translationData}}</label>
                <div class="form-group">
                  <select class="form-control" ng-model="appointment.repeat_by">
                    <option value="None">{{'appointment.none' | translate:translationData}}</option>
                    <option value="day">{{'appointment.daily' | translate:translationData}}</option>
                    <option value="week">{{'appointment.weekly' | translate:translationData}}</option>
                    <option value="month">{{'appointment.monthly' | translate:translationData}}</option>
                  </select>
                  <small>&nbsp;</small>
                </div>
              </div>
              <div class="col-sm-4" ng-show="appointment.repeat_by!='None'">
                <label>{{'appointment.repeatEvery' | translate:translationData}}</label>
                <div class="form-group">
                  <input type="text" class="form-control very_small text-center" ng-model="appointment.repeat_start" required="required">
                  <small>{{appointment.repeat_by}}</small>
                </div>
              </div>
              <div class="col-sm-4" ng-show="appointment.repeat_by!='None'">
                <label>{{'appointment.endsAfter' | translate:translationData}}</label>
                <div class="form-group">
                  <input type="text" class="form-control very_small text-center" ng-model="appointment.repeat_end">
                  <small>{{'appointment.ocurrences' | translate:translationData}}</small>
                </div>
              </div>
              <div class="col-sm-12" ng-show="appointment.repeat_by=='week'">
                <div class="form-group">
                  <div class="avail_days">
                    <label>
                      <p>M</p>
                      <input type="checkbox" ng-model="weekDays.day1" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>T</p>
                      <input type="checkbox" ng-model="weekDays.day2" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>W</p>
                      <input type="checkbox" ng-model="weekDays.day3" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>T</p>
                      <input type="checkbox" ng-model="weekDays.day4" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>F</p>
                      <input type="checkbox" ng-model="weekDays.day5" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>S</p>
                      <input type="checkbox" ng-model="weekDays.day6" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                    <label>
                      <p>S</p>
                      <input type="checkbox" ng-model="weekDays.day0" ng-change="pushWeekDays(weekDays)"><span></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-12" ng-show="appointment.has_series">
            <div class="radio_con">
              <div class="col-sm-2" ng-show="appointment.repeat_by!='None'">
                <label>
                  <input type="radio" name="updateFlag" value="0" ng-model="appointment.flag"><span></span>{{'appointment.onlyThis' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-3" ng-show="appointment.repeat_by!='None'">
                <label>
                  <input type="radio" name="updateFlag" value="1" ng-model="appointment.flag"><span></span>{{'appointment.followingApp' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-3" ng-show="appointment.repeat_by!='None'">
                <label>
                  <input type="radio" name="updateFlag" value="2" ng-model="appointment.flag"><span></span>{{'appointment.allAppointment' | translate:translationData}}
                </label>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>
      </form>
    </div>
  </div>
</script>

<!-- Add Wait list popup -->
<script type="text/ng-template" id="addWaitListModal.html">
  <div class="popUp">
    <div class="loading popUpLoading" ng-show="popUpLoading">
      <div class="sidebar-load-bar animated slideInDown">
        <div class="sidebar-bar"></div>
        <div class="sidebar-bar"></div>
        <div class="sidebar-bar"></div>
      </div>
    </div>
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-4">
                  <h3>{{'appointment.waitList' | translate:translationData}}</h3>
                </div>
                <div class="col-sm-8 text-right">
                  <button class="cancel_btn" type="button" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</button>
                  <button form="waitListForm" class="save_btn" type="submit" ng-show="newWaitlist" ng-disabled="stopSubmit">{{'button.add' | translate:translationData}}</button>
                  <button class="save_btn" type="button" ng-click="updateWaitList(wait_list)" ng-show="newWaitlist==false" ng-disabled="stopSubmit" form="waitListForm">{{'button.update' | translate:translationData}}</button>
                  <div class="error" ng-show="waitListErrorMsg">
                    <p class="error-msg">{{waitListError | translate:translationData}}</p>
                  </div>
                </div>
            </div>
      </div>
      <div class="tab_contents">
        <form ng-submit="addWaitList(wait_list)"  name="waitListForm" novalidate id="waitListForm">
          <div class="row trim_row exist_patient">
            <div class="col-sm-1">
              <h4>{{'appointment.patient' | translate:translationData}}</h4>
            </div>
            <div class="col-sm-11">
              <div class="form-group patient_list_dropdown">
                <input type="text" class="form-control search_box" placeholder="Search Patient" ng-model="wait_list.patient_id" typeahead="patients.id as patients.first_name +'&nbsp;'+ patients.last_name  for patients in PatientListData | filter:$viewValue" typeahead-input-formatter="formatLabel($model)" required="required" autofocus>
                <div class="alreadyExist waitList_status" ng-show="waitlistExist">
                  {{getListName.patient_name}} {{'appointment.already_In_Waitlist' | translate:translationData}}<br>
                  <a href="" ng-click="checkWaitList(getListName.wait_list_id)">{{'appointment.editExistingEntry' | translate:translationData}}</a>
                </div>
              </div>
            </div>
          </div>

          <div class="row trim_row wait_list wait_list_con">
            <div class="col-sm-6">
              <div class="row trim_row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>{{'appointment.removeOn' | translate:translationData}}</label>
                    <input type="text" class="form-control cal" uib-datepicker-popup="{{format}}" is-open="date.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-click="open($event)" ng-model="wait_list.remove_on" show-button-bar="false">
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>{{'appointment.appType' | translate:translationData}}</label>
                    <select class="form-control" ng-model="wait_list.appointment_type_id" ng-options="appointmentType.id as appointmentType.name for appointmentType in allAppointments">
                    </select>
                  </div>
                </div>
              </div>
              <label>{{'appointment.availbility' | translate:translationData}}</label>
              <div class="form-group">
                <div class="avail_days">
                  <label>
                    <p>M</p>
                    <input type="checkbox" ng-model="wait_list.availability.monday"><span></span>
                  </label>
                  <label>
                    <p>T</p>
                    <input type="checkbox" ng-model="wait_list.availability.tuesday"><span></span>
                  </label>
                  <label>
                    <p>W</p>
                    <input type="checkbox" ng-model="wait_list.availability.wednesday"><span></span>
                  </label>
                  <label>
                    <p>T</p>
                    <input type="checkbox" ng-model="wait_list.availability.thursday"><span></span>
                  </label>
                  <label>
                    <p>F</p>
                    <input type="checkbox" ng-model="wait_list.availability.friday"><span></span>
                  </label>
                  <label>
                    <p>S</p>
                    <input type="checkbox" ng-model="wait_list.availability.saturday"><span></span>
                  </label>
                  <label>
                    <p>S</p>
                    <input type="checkbox" ng-model="wait_list.availability.sunday"><span></span>
                  </label>
                </div>
              </div>
              <div class="options" ng-show="BussinessList.length>1">
                <label>{{'appointment.businesses' | translate:translationData}}</label>
                <div class="form-group">
                  <div class="options_con">
                    <label class="col-sm-6" ng-repeat="bussiness in BussinessList">
                      <input type="checkbox" ng-model="bussiness.is_selected"><span></span> {{bussiness.name}}
                    </label>
                  </div>
                  <button ng-click="selectAllBussiness()" type="button">{{'appointment.selectAll' | translate:translationData}}</button>
                  <button class="deselect" ng-click="deSelectAllBussiness()" type="button">{{'appointment.deselectAll' | translate:translationData}}</button>
                </div>
              </div>
            </div>

            <div class="col-sm-6 options">
              <label ng-show="DoctersList.length>1">{{'appointment.practitioner' | translate:translationData}}</label>
              <div class="form-group" ng-show="DoctersList.length>1">
                <div class="options_con">
                  <label class="col-sm-6" ng-repeat="docter in DoctersList">
                    <input type="checkbox" ng-model="docter.is_selected"><span></span> {{docter.full_name}}
                  </label>
                </div>
                <button ng-click="selectAllDocters()" type="button">{{'appointment.selectAll' | translate:translationData}}</button>
                <button class="deselect" ng-click="deSelectAllDocters()" type="button">{{'appointment.deselectAll' | translate:translationData}}</button>
              </div>
              <label>{{'appointment.options' | translate:translationData}}</label>
              <div class="form-group">
                <div class="options_con">
                  <label class="col-sm-4">
                    <input type="checkbox" ng-model="wait_list.options.urgent"><span></span> {{'appointment.urgent' | translate:translationData}}
                  </label>
                  <label class="col-sm-8">
                    <input type="checkbox" ng-model="wait_list.options.outside_hours"><span></span> {{'appointment.onlyOutside' | translate:translationData}}
                  </label>
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <label>{{'appointment.extraInfo' | translate:translationData}}</label>
              <div class="form-group">
                <textarea class="form-control" placeholder="{{'appointment.enterTextHere' | translate:translationData}}" ng-model="wait_list.extra_info"></textarea>
              </div>
            </div>
            <div class="clearfix"></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</script>

<!-- First Appointment popup -->
<script type="text/ng-template" id="firstAppoinment.html">
  <div class="popUp">
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-4">
                  <h3>{{appointmentsDetails.appointment_type_name}}<span class="app_color" style='background-color: {{appointmentsDetails.color_code}}'></span></h3>
                  <h6><span ng-show="appointmentsDetails.updated_at!=null">{{'appointment.lastUpdate' | translate:translationData}} {{appointmentsDetails.updated_at}}</span>
                  <span ng-show="appointmentsDetails.updated_at==null">{{'appointment.createdAt' | translate:translationData}} {{appointmentsDetails.created_at}}</span></h6>
                </div>
                <div class="col-sm-8 text-right">
                  <button class="delete_btn" type="button" ng-click="delete_app()" ng-show="main_btns" ng-if="appPerm.destroy">
                    {{'button.delete' | translate:translationData}}
                  </button>
                  <button class="cancelApp_btn" type="button" ng-click="cancelApp()" ng-show="main_btns" ng-if="!appointmentsDetails.is_cancel && appPerm.modify">
                    {{'button.cancel' | translate:translationData}}
                  </button>
                  <button class="edit_btn" type="button" ng-click="editAppointment()" ng-if="appPerm.modify">
                    {{'button.edit' | translate:translationData}}
                  </button>
                  <button class="reschedule_btn" type="button" ng-click="rescheduleAppointment(appointmentsDetails)" ng-if="appPerm.modify">
                    {{'appointment.reschedule' | translate:translationData}}
                  </button>
                </div>
            </div>
      </div>
      <div class="tab_contents">
        <div class="top_detail_con">
          <div class="detail_con left_side_con">
            <h4>{{Contact.title}} {{Contact.first_name}} {{Contact.last_name}}</h4>
            <div class="detail_content">
              <div class="row">
                <div class="col-sm-7 detail_content">
                  <div class="app_img">
                    <div class="patient_img patient_img" ng-show="appointmentsDetails.patient_detail.patient_gender=='Male'">
                      <img src="assets/user.png" alt="" ng-if ="appointmentsDetails.patient_detail.profile_pic_flag == false " >
                      <img ng-src="{{appointmentsDetails.patient_detail.profile_pic}}" alt="" ng-if ="appointmentsDetails.patient_detail.profile_pic_flag" >
                    </div>
                    <div class="patient_img patient_img" ng-show="appointmentsDetails.patient_detail.patient_gender=='Female'">
                      <img src="assets/user_female.png" alt="" ng-if ="appointmentsDetails.patient_detail.profile_pic_flag == false ">
                      <img ng-src="{{appointmentsDetails.patient_detail.profile_pic}}" alt="" ng-if ="appointmentsDetails.patient_detail.profile_pic_flag" >
                    </div>
                    <div class="patient_img patient_img" ng-show="appointmentsDetails.patient_detail.patient_gender=='Not Applicable' || appointmentsDetails.patient_detail.patient_gender=='none'">
                      <img src="assets/user_not_app1.png" alt="" ng-if ="appointmentsDetails.patient_detail.profile_pic_flag == false ">
                      <img ng-src="{{appointmentsDetails.patient_detail.profile_pic}}" alt="" ng-if ="appointmentsDetails.patient_detail.profile_pic_flag" >
                    </div>
                  </div>
                  <div class="patient_detail app_info">
                    <h3><a href="" ng-click="goToPatientPage(appointmentsDetails.patient_detail.patient_id)">{{appointmentsDetails.patient_detail.patient_name}}</a> <span ng-show="appointmentsDetails.patient_detail.concession_name!=null">({{appointmentsDetails.patient_detail.concession_name}})</span></h3>
                    <p ng-show="appointmentsDetails.patient_contact_info.length!=0" ng-repeat="con in appointmentsDetails.patient_contact_info"><i class="fa fa-phone"></i>
                      <span class="pull-left">{{con.contact_no}} ({{con.contact_type}})</span><a href="" ng-show="con.contact_type=='mobile'" ng-click="cancel()" ui-sref="patient-detail.sendSms({'patient_id' : appointmentsDetails.patient_detail.patient_id, 'phone_no' : con.contact_no})" class="sendIcon contact_icn" style="margin-top:-3px;"><span>Send SMS</span></a> </span>
                    </p>
                    <p ng-show="appointmentsDetails.fax_no!=null">
                      <i class="fa fa-print"></i>{{appointmentsDetails.fax_no}}
                    </p>
                    <p ng-show="appointmentsDetails.email!=null">
                      <i class="fa fa-envelope"></i><span title="Send Email">{{appointmentsDetails.email}} <a ng-click="openClientEmail(appointmentsDetails.patient_detail.patient_id)" href="" class="email_icon ng-scope" tabindex="0"><span>Send Email</span></a>
                      </span>
                    </p>
                  </div>
                </div>
                <div class="col-sm-5">
                  <p class="bal credit">$ {{appointmentsDetails.credit_amount}} Account Credit</p>
                  <p class="bal outstanding">$ {{appointmentsDetails.Outstanding_bal}} Outstanding Balance</p>
                  <div class="note_con">
                    {{!appointmentsDetails.notes? "Note" : appointmentsDetails.notes}}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="detail_content right_side_con">
            <div class="invoice_balance app_links">
              <p class="credit_blnc" ng-click="addPayment(appointmentsDetails.id)" ng-show="appointmentsDetails.appointment_invoice==null" ng-if="appPerm.invoice_prmsn.create">{{'appointment.addInvoice' | translate:translationData}} <i class="fa fa-file-archive-o"></i></p>
              <p class="credit_blnc invoice_open" ng-click="goInvoice(appointmentsDetails.appointment_invoice)" ng-show="appointmentsDetails.has_opened_invoice && appointmentsDetails.appointment_invoice!=null">{{'appointment.invoiceOpen' | translate:translationData}} <i class="fa fa-file-archive-o"></i></p>
              <p class="credit_blnc invoice_open" ng-click="goInvoice(appointmentsDetails.appointment_invoice)" ng-show="!appointmentsDetails.has_opened_invoice && appointmentsDetails.appointment_invoice!=null">{{'appointment.invoicePaid' | translate:translationData}} <i class="fa fa-file-archive-o"></i></p>
              <p class="credit_blnc" ng-click="TreatmentPopup(appointmentsDetails.patient_detail.patient_id, appointmentsDetails.id)" ng-show="appPerm.managetr_note_class_index > 0">
                {{'appointment.addTreatmentNote' | translate:translationData}} <i class="fa fa-file-text-o"></i>
              </p>
            </div>
          </div>
        </div>
        <div class="clearfix"></div>
        <div class="top_detail_con appointment_info">
          <div class="detail_con left_side_con">
            <h4>{{Contact.title}} {{Contact.first_name}} {{Contact.last_name}}</h4>
            <div class="detail_content">
              <div class="row">
                <div class="col-sm-12 detail_content">
                  <div class="app_img">
                    <img src="assets/cal_img.png" alt="">
                  </div>
                  <div class="patient_detail app_info patient_detail_con">
                    <h4>{{'appointment.app' | translate:translationData}}</h4>
                    <h5 class="text-capitalize">{{appointmentsDetails.practitioner}}</h5>
                    <h6>{{appointmentsDetails.appnt_date}} for {{appointmentsDetails.appnt_time_period}}</h6>
                    <div class="appoinment_btns" ng-if="appPerm.modify">
                      <div class="col-sm-6" ng-show="appointmentsDetails.patient_arrive==null">
                        <button ng-click="Patient_arrived_status(appointmentsDetails.id,true,appointmentsDetails)"><i class="fa fa-user"></i> {{'appointment.arrived' | translate:translationData}}</button>
                        <button ng-click="Patient_arrived_status(appointmentsDetails.id,false,appointmentsDetails)"><i class="fa fa-user-times"></i> {{'appointment.absent' | translate:translationData}}</button>
                      </div>
                      <div class="col-sm-6" ng-show="appointmentsDetails.patient_arrive!=null">
                        <button ng-show="appointmentsDetails.patient_arrive==true" ng-click="Patient_arrived_status(appointmentsDetails.id,null,appointmentsDetails)" class="green_btn big-btnn"><i class="fa fa-user"></i> {{'appointment.arrived' | translate:translationData}}</button>
                        <button ng-show="appointmentsDetails.patient_arrive==false" ng-click="Patient_arrived_status(appointmentsDetails.id,null,appointmentsDetails)" class="red_btn big-btnn"><i class="fa fa-user-times"></i> {{'appointment.absent' | translate:translationData}}</button>
                      </div>
                      <div class="col-sm-6" ng-show="appointmentsDetails.appnt_status==null">
                        <button ng-click="Patient_complete_status(appointmentsDetails.id,true,appointmentsDetails)"><i class="fa fa-check"></i> {{'appointment.completed' | translate:translationData}}</button>
                        <button ng-click="Patient_complete_status(appointmentsDetails.id,false,appointmentsDetails)"><i class="fa fa-exclamation"></i> {{'appointment.pending' | translate:translationData}}</button>
                      </div>
                      <div class="col-sm-6" ng-show="appointmentsDetails.appnt_status!=null">
                        <button ng-show="appointmentsDetails.appnt_status==true"  ng-click="Patient_complete_status(appointmentsDetails.id,null,appointmentsDetails)" class="green_btn big-btnn"><i class="fa fa-check"></i> {{'appointment.completed' | translate:translationData}}</button>
                        <button ng-show="appointmentsDetails.appnt_status==false" ng-click="Patient_complete_status(appointmentsDetails.id,null,appointmentsDetails)" class="red_btn big-btnn"><i class="fa fa-exclamation"></i> {{'appointment.pending' | translate:translationData}}</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="detail_content right_side_con">
            <div class="invoice_balance app_links next_apps">
              <div class="next-app">
                <h4>{{"appointment.nextApp" | translate:translationData}}
                  <div class="pull-right printBtns">
                    <a href="" ng-click="printAppointments(appointmentsDetails.id)" ng-if="appointmentsDetails.next_appointment_date.length!=0"><i class="fa fa-print"></i><span>{{'button.print' | translate:translationData}}</span></a>
                  </div>
                </h4>
                <div class="next_app_con" ng-show="appointmentsDetails.next_appointment_date.length!=0">
                  <ul class="list-inline">
                    <li ng-repeat="app in appointmentsDetails.next_appointment_date">
                    <p ng-click="NextAppoinment(app.next_appointment_id)"><span class="text-capitalize">{{app.practitioner}}</span><br>{{app.next_appointment_date}} {{'appointment.label_at' | translate:translationData}} {{app.next_appointment_time}} </p>
                    </li>
                  </ul>
                </div>
                <div class="next_app_con no_next_app" ng-show="appointmentsDetails.next_appointment_date.length==0">
                  <ul class="list-inline no_appointment">
                    <li>
                      <p class="text-center"><span>{{'appointment.none' | translate:translationData}}</span></p>
                    </li>
                  </ul>
                </div>
                <div class="book_another" ng-if="appPerm.create">
                  <button class="btn btn-primary" ng-click="anotherAppointment(appointmentsDetails)">{{'appointment.boolAnother' | translate:translationData}}</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="row trim_row cancel_appointment" ng-show="cancelAppointment">
        <div class="col-sm-12">
          <h4>{{'appointment.cancelApp' | translate:translationData}}</h4>
        </div>
        <div class="col-sm-7">
          <p>{{'appointment.reasonForCancel' | translate:translationData}}</p>
          <div class="cancel_reasons">
            <div class="row">
              <div class="col-sm-5">
                <label>
                  <input type="radio" name="test" value="Condition Improved" ng-model="appCancel.reason"><span></span>{{'appointment.conditionImprove' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-3">
                <label>
                  <input type="radio" name="test" value="Sick" ng-model="appCancel.reason"><span></span>{{'appointment.sick' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-4">
                <label>
                  <input type="radio" name="test" value="Work Related" ng-model="appCancel.reason"><span></span>{{'appointment.workRelated' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-5">
                <label>
                  <input type="radio" name="test" value="Condition worsened" ng-model="appCancel.reason"><span></span>{{'appointment.conditoinWordened' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-3">
                <label>
                  <input type="radio" name="test" value="Away" ng-model="appCancel.reason"><span></span>{{'appointment.away' | translate:translationData}}
                </label>
              </div>
              <div class="col-sm-4">
                <label>
                  <input type="radio" name="test" value="Other" ng-model="appCancel.reason"><span></span>{{'label.other' | translate:translationData}}
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <textarea class="form-control" placeholder="Notes" ng-model="appCancel.notes"></textarea>
        </div>
        <div class="col-sm-12">
          <button class="btn btn-primary big_btn" type="button" ng-click="cancelAppWithReason(appointmentsDetails.id,appCancel)">{{'appointment.cancelApp' | translate:translationData}}</button>
          <button class="btn btn-warning big_btn" type="button" ng-click="dntCancel()">{{'appointment.dontCancel' | translate:translationData}}</button>
        </div>
      </div>
      <div class="row trim_row cancel_appointment" ng-show="delete_app_sec">
        <div class="col-sm-12">
          <h4>DELETE APPOINTMENT</h4>
        </div>
        <div class="col-sm-12">
          <p>{{'appointment.doYouWantToDelete' | translate:translationData}}</p>
        </div>
        <div class="col-sm-12 radios_btns" ng-show="appointmentsDetails.has_series">
          <div class="radio">
            <label>
              <input type="radio" name="deleteFlag" value="0" ng-model="appointmentsDetails.deleteAppointment"><span></span>{{'appointment.onlyThis' | translate:translationData}}
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="deleteFlag" value="1" ng-model="appointmentsDetails.deleteAppointment"><span></span>{{'appointment.followingApp' | translate:translationData}}
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="deleteFlag" value="2" ng-model="appointmentsDetails.deleteAppointment"><span></span>{{'appointment.allAppointment' | translate:translationData}}
            </label>
          </div>
          {{deleteAppointment}}
        </div>
        <div class="col-sm-12">
          <button class="btn btn-primary" type="button" style="margin-left: 0" ng-click="deleteApp(appointmentsDetails.id,appointmentsDetails.deleteAppointment)">{{'button.delete' | translate:translationData}}</button>
          <button class="btn btn-warning big_btn" type="button" ng-click="dont_delete()">{{'appointment.dontDelete' | translate:translationData}}</button>
        </div>
      </div>
    </div>
  </div>
</script>

<!-- confirmation-->
<script type="text/ng-template" id="confirmationModal.html">
  <div class="modal-body confirm-body">
    <div class="confirm">
      <p>{{'appointment.appFor' | translate:translationData}} "{{eventData.title}}" {{'appointment.willBeReschedule' | translate:translationData}}</p>
      <a href="" ng-click="confirmDrag()">{{'button.confirm' | translate:translationData}}</a>
      <a href="" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</a>
    </div>
  </div>
</script>

<!-- confirmation popup-->
<script type="text/ng-template" id="waitListconfirmation.html">
  <div class="modal-body confirm-body">
    <div class="confirm">
      <p>{{'appointment.deleteWaitlist' | translate:translationData}}</p>
      <a href="" ng-click="confirmDelete()">{{'button.confirm' | translate:translationData}}</a>
      <a href="" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</a>
    </div>
  </div>
</script>

<!-- treatment note Modal -->
<script type="text/ng-template" id="treatmentNote.html">
  <div class="popUp">
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-6">
                  <h3>{{patientForTrearmentNote}}</h3>
                </div>
                <div class="col-sm-6 text-right">
                  <div class="pull-right" ng-show="addNewTreatmentNote">
                   <div class="col-sm-12 text-center">
                      <button type="" ng-click="saveTretementNote(Getformat,'true')" ng-show="addNewNote" class="save_btn">{{'appointment.saveAsFinal' | translate:translationData}}</button>
                      <button type="" ng-click="saveTretementNote(Getformat,'false')" ng-show="addNewNote" class="save_btn">{{'appointment.saveAsDraft' | translate:translationData}}</button>
                      <button type="" ng-click="updateTretementNote(Getformat,'true')" ng-hide="addNewNote" class="save_btn">{{'appointment.saveAsFinal' | translate:translationData}}</button>
                      <button type="" ng-click="updateTretementNote(Getformat,'false')" ng-hide="addNewNote" class="save_btn">{{'appointment.saveAsDraft' | translate:translationData}}</button>
                      <button type="button" ng-click="cancel()" class="cancel_btn">{{'button.cancel' | translate:translationData}}</button>
                   </div>
                  </div>
                </div>
            </div>
      </div>
      <div class="top_tabbing tabbing_menu ng-scope">
        <div ng-class="tr_custom_class" ng-if="appPerm.managetr_note_add">
          <a href="" ng-class="{'active':addNewTreatmentNote}" ng-click="addNew()"><i class="icon treatmen_icn"></i><span>{{'appointment.addNote' | translate:translationData}}</span></a>
        </div>
        <div ng-class="tr_custom_class" ng-if="appPerm.managetr_note_view">
          <a href="" ng-class="{'active':previous_notes}" ng-click="getPrevious()"><i class="icon pre_note"></i><span>{{'appointment.previousNote' | translate:translationData}}</span></a>
        </div>
        <div ng-class="tr_custom_class" ng-if="appPerm.file_tab">
          <a href="" ng-click="getAtachments()" ng-class="{'active':attachments}"><i class="icon attachment_icn"></i><span>{{'appointment.attachments' | translate:translationData}}</span></a>
        </div>
      </div>
      <div class="tab_contents have_tabs">
        <div class="top_detail_con" ng-if="editInvoice">
          <div class="detail_con left_side_con">
            <h4>{{Contact.title}} {{Contact.first_name}} {{Contact.last_name}}</h4>
            <div class="detail_content">
                <div class="row">
                    <div class="col-sm-5">
                        <h5>{{'invoice.invoiceTo' | translate:translationData}} : {{InvoiceDetails.invoice_to}}</h5>
                        <h5>{{'payment.patient' | translate:translationData}} :
                          <a ui-sref="patient-detail({patient_id:InvoiceDetails.patient_id})">{{InvoiceDetails.patient}}</a>
                        </h5>
                        <h5 ng-show="InvoiceDetails.appt_date!=null">{{'invoice.appDate' | translate:translationData}} : {{InvoiceDetails.appt_date}}</h5>
                    </div>
                    <div class="col-sm-4">
                        <h5>{{'invoice.taxinvoice' | translate:translationData}} : {{InvoiceDetails.tax_invoice}}</h5>
                        <h5>{{'invoice.practitioner' | translate:translationData}} : {{InvoiceDetails.practitioner}}</h5>
                    </div>
                    <div class="col-sm-3">
                        <div class="note_con">
                            {{!InvoiceDetails.notes? "Note" : InvoiceDetails.notes}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="detail_content right_side_con">
          <div class="invoice_balance">
            <p ng-if="InvoiceDetails.patient_credit_balance" class="credit_blnc"><span>{{InvoiceDetails.patient | capitalize}}</span>  {{'invoice.hasAccount' | translate:translationData}} <span>${{InvoiceDetails.patient_credit_balance}}</span></p>
            <p ng-if="InvoiceDetails.patient_outstanding_balance" class="outstanding_amount"><span>{{InvoiceDetails.patient | capitalize}}</span> {{'invoice.hasOutstanding' | translate:translationData}} <span>${{InvoiceDetails.patient_outstanding_balance}}</span></p>
          </div>
        </div>
      </div>
      <div ng-if="addNewTreatmentNote">
         <div class="sms treatment-note-con">
            <form class="">
               <div class="form-group">
                  <div class="col-sm-12">
                     <h3 style="margin:0;">{{Getformat.treatment_note.title}}
                        <span style="font-size:12px;" ng-if="Getformat.treatment_note.treatment_notes_template_note_attributes.template_note_name!=Getformat.treatment_note.title">(Edited From:{{Getformat.treatment_note.treatment_notes_template_note_attributes.template_note_name}})</span>
                     </h3>
                  </div>
                  <div class="col-sm-12 copy_note">
                     <a href="" class="pull-right copy_previous" ng-click="getPreviousNote()" ng-hide="hideCopyLink"><i class="add_icn"></i>{{'appointment.copyPreviousNote' | translate:translationData}}</a>
                  </div>
                  <div class="col-sm-6">
                    <div class="from-group">
                      <label>{{'appointment.template' | translate:translationData}}</label>
                      <select class="form-control" ng-options="treatmentList.id as treatmentList.name for treatmentList in GetList" ng-change="GetTamplateFormat(noteTamplate)" ng-model="noteTamplate">
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>{{'appointment.appointment' | translate:translationData}}</label>
                      <select class="form-control" ng-model="Getformat.treatment_note.appointment_id">
                        <option value="null">{{'appointment.none' | translate:translationData}}</option>
                        <option ng-repeat="appointments in appointmentList" value="{{appointments.id}}">{{appointments.name}}</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-12 section-con" ng-repeat="sections in Getformat.treatment_note.treatment_sections_attributes" ng-init="roundOfQust=(sections.treatment_questions_attributes.length/2 | number:0)">
                     <h4>{{sections.name}}</h4>
                     <div class="row">
                        <div class="col-sm-6">
                           <div class="row">
                              <div class="col-sm-12" ng-repeat="questions in sections.treatment_questions_attributes | limitTo:roundOfQust">
                                 <div class="form-group" ng-show="questions.quest_type=='Text'">
                                    <label>{{questions.title}}</label>
                                    <div ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                       <input type="text" class="form-control" ng-model="answers.treatment_answer_attributes.ans">
                                    </div>
                                 </div>
                                 <div class="form-group" ng-show="questions.quest_type=='Paragraph'">
                                    <label>{{questions.title}}</label>
                                    <div ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                       <textarea class="form-control" ng-model="answers.treatment_answer_attributes.ans"></textarea>
                                    </div>
                                 </div>
                                 <div class="form-group" ng-show="questions.quest_type=='Multiple_Choice'">
                                    <label>{{questions.title}}</label>
                                    <div class="clearfix"></div>
                                    <div class="medi radio-con">
                                       <div class="radio" ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                          <label>
                                          <input type="radio" ng-model="questions.ans" name="{{questions.q_id}}" value="{{answers.title}}"><span></span> {{answers.title}}
                                          </label>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="form-group" ng-show="questions.quest_type=='Checkboxes'">
                                    <label>{{questions.title}}</label>
                                    <div class="check-con patient-detail" ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                       <div class="checkbox">
                                          <label>
                                          <input type="checkbox" ng-model="answers.treatment_answer_attributes.is_selected"><span></span> {{answers.title}}
                                          </label>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="col-sm-6">
                           <div class="row">
                              <div class="col-sm-12" ng-repeat="questions in sections.treatment_questions_attributes" ng-if="$index >= roundOfQust">
                                 <div class="form-group" ng-show="questions.quest_type=='Text'">
                                    <label>{{questions.title}}</label>
                                    <div ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                       <input type="text" class="form-control" ng-model="answers.treatment_answer_attributes.ans">
                                    </div>
                                 </div>
                                 <div class="form-group" ng-if="questions.quest_type=='Paragraph'">
                                    <label>{{questions.title}}</label>
                                    <div ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                       <textarea class="form-control" ng-model="answers.treatment_answer_attributes.ans"></textarea>
                                    </div>
                                 </div>
                                 <div class="form-group" ng-if="questions.quest_type=='Multiple_Choice'">
                                    <label>{{questions.title}}</label>
                                    <div class="clearfix"></div>
                                    <div class="medi radio-con">
                                       <div class="radio" ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                          <label>
                                          <input type="radio" ng-model="questions.ans" name="{{questions.q_id}}" value="{{answers.title}}"><span></span> {{answers.title}}
                                          </label>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="form-group" ng-if="questions.quest_type=='Checkboxes'">
                                    <label>{{questions.title}}</label>
                                    <div class="check-con patient-detail" ng-repeat="answers in questions.treatment_quest_choices_attributes">
                                       <div class="checkbox">
                                          <label>
                                          <input type="checkbox" ng-model="answers.treatment_answer_attributes.is_selected"><span></span> {{answers.title}}
                                          </label>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <hr>
                  </div>
            </form>
            </div>
         </div>
      </div>
      <div class="previous_notes" ng-show="previous_notes">
        <div class="no_note" ng-show="patientDetail.treatment_notes.length==0">
          <p>{{'appointment.noNoteAvail' | translate:translationData}}</p>
        </div>
          <div class="light-pink communication detail-box" ng-repeat="treatment_note in patientDetail.treatment_notes" ng-class="treatment_note.save_final ? 'final' : 'not-final'">
            <div class="note_date">
              <div class="date_con">
                {{treatment_note.created}}<span ng-show="treatment_note.last_updated!=null">({{'appointment.lastUpdateOn' | translate:translationData}} {{treatment_note.last_updated}})
              </div>
              <small class="red-text" ng-show="treatment_note.save_final==false">({{'appointment.draft' | translate:translationData}})</small>
            </div>
              <div class="col-sm-12 gray_btns heading-cpmmunication"> <span class="pull-left"> <span class="red-text-cap">{{treatment_note.treatment_title}}</span> <span>by <span class="red-text">{{treatment_note.created_by}}</span></span></span>  </span>
                <button class="btn btn-default" ng-click="deleteNotes_Confirm(treatment_note.id)" ng-show="treatment_note.security_role.delete">{{'button.delete' | translate:translationData}}</button>
                <button class="btn btn-default" ng-show="treatment_note.save_final==false && treatment_note.security_role.modify"
                ng-click="editTreatmentNote(treatment_note.id)">{{'button.edit' | translate:translationData}}</button>
                <button class="btn btn-default" ng-click="TreatmentPrint(treatment_note.id)" ng-show="treatment_note.security_role.export_pdf">{{'appointment.exportToPDF' | translate:translationData}}</button>
              </div>
              <div class="col-sm-12">
                <div class="row">
                  <div class="col-sm-12 treatment-ans-con" ng-repeat="sections in treatment_note.treatment_sections_attributes">
                    <div class="row">
                      <div class="col-sm-3">
                        <p>{{sections.name}}</p>
                      </div>
                      <div class="col-sm-9">
                        <div class="treatment_ans" ng-repeat="treatment_questions_attribute in sections.treatment_questions_attributes">
                          <h5>{{treatment_questions_attribute.title}}</h5>
                          <p ng-bind-html="treatment_questions_attribute.ans | parseUrlFilter:'_blank'"></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
      </div>
      <div class="attachments" ng-show="attachments">
        <a href="" ng-click="addFile()" ng-show="patientDetail.files.length!=0" ng-if="patientDetail.file_upload">{{'appointment.addAttachment' | translate:translationData}}</a>
        <div class="no_note" ng-show="patientDetail.files.length==0" >
          <p>There is no any Attachment <a href="" ng-click="addFile()">{{'appointment.addAttachment' | translate:translationData}}</a></p>
        </div>
        <div class="gray-bg file-attach"  ng-show="patientDetail.files.length!=0">
          <div  class="col-sm-4 attach-con" ng-repeat="file in patientDetail.files">
          <div class="attach-img">
            <i class="type-icn type-pdf" ng-show="file.type=='pdf'"></i>
            <i class="type-icn type-msword" ng-show="file.type=='msword'"></i>
              <img ng-src="{{file.file_url}}" ng-show="file.type=='image'">
            <i class="type-icn type-excel" ng-show="file.type=='excel'"></i>
            <i class="type-icn type-spreadsheetml" ng-show="file.type=='spreadsheetml'"></i>
            <i class="type-icn type-wordprocessingml" ng-show="file.type=='wordprocessingml'"></i>
            <i class="type-icn type-other" ng-show="file.type=='other'"></i>
            <i class="type-icn type-text" ng-show="file.type=='text'"></i>
          </div>
             <a style="text-decoration:none" href="{{file.file_url}}" target="_blank" ng-show="file.security_role.clickable_link==true"><p class="red-text" style="width: 100%;  white-space: nowrap; text-overflow: ellipsis; overflow: hidden;">{{file.name}}</p></a>
             <p class="red-text" style="width: 100%;  white-space: nowrap; text-overflow: ellipsis; overflow: hidden;" ng-show="file.security_role.clickable_link==false">{{file.name}}</p>
             <div class="attach-des-con">
                <p class="attach-des">{{file.description}}</p>
                <span ng-show="file.description!=''">{{file.description}}</span>
             </div>
             {{chunkedData}}
            <p class="publish-date gray-text">{{file.created_on}} {{'appointment.by' | translate:translationData}} {{file.created_by}}</p>
            <div class="gray_btns">
              <span ng-show="file.security_role.clickable_link"><a href="{{file.file_url}}" download class="" ng-show="file.type!='image'"><button  class="pull-left btn btn-default">{{'button.download' | translate:translationData}}
              <span>{{file.file_size}}</span></button></a></span>
               <a href=""><button  class="pull-left btn btn-default" ng-show="file.security_role.modify" ng-click="editAttachment(file.id)">{{'button.edit'  | translate:translationData}}</button></a>
              <a href="" download><button  class="pull-left btn btn-default delete-btn" ng-click="deleteAttachment(file.id)" ng-show="file.security_role.delete"><I class="fa fa-trash"></I></button></a>
            </div>
          </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</script>

<!-- Delete Modal fot Treatment Note-->
<script type="text/ng-template" id="DeleteTreatment.html">
  <div class="modal-body confirm-body">
    <div class="confirm">
      <p>{{'appointment.deleteTreatmentNoteMsg' | translate:translationData}}</p>
      <a href="" ng-click="confirmDelete()">{{'button.confirm' | translate:translationData}}</a>
      <a href="" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</a>
    </div>
  </div>
</script>

<!-- Delete Modal for Attachment-->
<script type="text/ng-template" id="DeleteAttachment.html">
  <div class="modal-body confirm-body">
    <div class="confirm">
      <p>{{'appointment.deleteAttachmentMsg' | translate:translationData}}</p>
      <a href="" ng-click="confirmDeleteAttachment()">{{'button.confirm' | translate:translationData}}</a>
      <a href="" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</a>
    </div>
  </div>
</script>

<!-- Attachment edit Modal -->
<script type="text/ng-template" id="attachmentEdit.html">
  <div class="modal-body fileattach">
    <div class="modal_loading" ng-show="showLoading"><i class="fa fa-spinner fa-spin"></i></div>
    <a href="" ng-click="cancel()" class="close-popup"></a>
    <div class="drag_drop">
        <h4>{{'appointment.editFileAttachment' | translate:translationData}}</h4>
        <div class="sms">
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-3 control-label">{{'appointment.name' | translate:translationData}}</label>
                    <div class="col-sm-9">
                        <label  class="control-label">{{attachmentData.file_name}}</label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">{{"appointment.description" | translate:translationData}}</label>
                    <div class="col-sm-9">
                        <textarea class="form-control" ng-model="attachmentData.description"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-9">
                        <button type="submit" ng-click="updateAttachment(attachmentData)">{{'button.update' | translate:translationData}}</button>
                        <button type="button" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
  </div>
</script>

<!-- Modal -->
<script type="text/ng-template" id="fileAttach.html">
  <div class="popUp">
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-6">
                  <h3>{{'patient_datail.FileAttachments' | translate:translationData}}</h3>
                </div>
                <div class="col-sm-6 text-right">
                </div>
            </div>
      </div>
      <div class="tab_contents">
        <div>
           <div class="sms treatment-note-con">
              <div class="drag_drop">
                <div class="dragit" ngf-drop="upload($files)" ngf-multiple="true" ng-model="fileAttach" ngf-select="upload($files)" ng-pristine="upload($files)" multiple="multiple">
                 <input type="text" style="opacity:0;position:absolute;" autofocus="true">
                    <div class="drag_con" ng-hide="uploadingFile">
                        <div class="drag_btn">
                          <button type="button" ngf-select="upload($files)" ng-modal="fileName"  multiple="multiple">{{'patient_detail.AddFile' | translate:translationData}}</button>
                          <p class="text-center">Drag and drop files to this page</p>
                          <p class="text-center">Or</p>
                          <p>Press "print screen" button from the keyboard to take current screen shot and press "Ctrl + V" to upload that screen shot</p>
                        </div>
                        <!-- <h6>{{'patient_detail.draganddropfiles' | translate:translationData}}</h6> -->

                    </div>
                    <div class="drag_con1" ng-show="uploadingFile">
                      <label>{{uploadedName}}
                        <br>
                        <span ng-show="CurrentlyUploading">{{'patient_detail.CurrentlyUploading' | translate:translationData}}...</span>
                         <span ng-show="UploadedSuccessfully">{{'patient_detail.UploadedSuccessfully' | translate:translationData}}</span>
                            <span ng-show="ErrorWhileUpload">{{'patient_detail.Errorwhileupoloading' | translate:translationData}}...!</span>
                      </label>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="{{progressPercentage}}" aria-valuemin="0" aria-valuemax="100" style="width:{{progressPercentage}}%">
                            <span class="sr-only">{{progressPercentage}} {{'patient_detail.Complete' | translate:translationData}}</span>
                        </div>
                    </div>
                </div>
           </div>
        </div>
      </div>
    </div>
  </div>
</script>

<style>
  .form-control{width:100% !important;}
  .onDrag_cancel{float: right;margin: 0 0 10px 10px;}
</style>

<!-- add unavailbility -->
<script type="text/ng-template" id="unavailBlock.html">
  <div class="popUp">
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
        <div class="topBar_content">
          <div class="row">
              <div class="col-sm-4">
                <h3 ng-show="!availableActivate && !updateUnavailbitiy">{{'appointment.newUnavailblock' | translate:translationData}}</h3>
                <h3 ng-show="availableActivate && !updateUnavailbitiy">{{'appointment.addAvail' | translate:translationData}}</h3>
                <h3 ng-show="!availableActivate && updateUnavailbitiy">EDIT UNAVAILABLE BLOCK</h3>
              </div>
              <div class="col-sm-8 text-right">
                <button class="save_btn" type="submit" ng-disabled="endTimeError" form="availForm" ng-show="!updateUnavailbitiy">{{'button.save' | translate:translationData}}</button>
                <button class="save_btn" type="submit" ng-disabled="endTimeError" ng-show="updateUnavailbitiy" form="availForm">{{'button.update' | translate:translationData}}</button>
                <button class="cancel_btn" type="button" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</button>
                <div class="error" ng-show="have_error">
                  <p class="error-msg no_bg_color">{{app_error | translate:translationData}}</p>
                </div>
              </div>
          </div>
        </div>
        <div class="tab_contents">
          <form ng-submit="saveUnavailable(unAvail)"  name="availForm" novalidate id="availForm">
            <div class="row trim_row exist_patient">
              <div class="col-sm-2">
                <h4>{{'appointment.practitioner' | translate:translationData}}</h4>
              </div>
              <div class="col-sm-10">
                <div class="form-group">
                  <select class="form-control" ng-model="unAvail.user_id" ng-options="practitionars.id as practitionars.name for practitionars in practitionarList" ng-change="updatePrac(appointmentTypeList,appointment.user_id)">
                  </select>
                </div>
              </div>
            </div>

            <div class="row trim_row wait_list wait_list_con">
              <div class="col-sm-6">
                <label>{{'appointment.date' | translate:translationData}}</label>
                <div class="form-group">
                  <input type="text" class="form-control cal calander" uib-datepicker-popup="{{format}}" is-open="date.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-click="open($event)" ng-model="unAvail.avail_date" show-button-bar="false">
                </div>
              </div>
              <div class="col-sm-6 time_con">
                <label>{{'appointment.time' | translate:translationData}}</label>
                <div class="form-group">
                  <select class="form-control very_small" ng-model="unAvail.start_hr" ng-options="n for n in range(00,23)" ng-change="checkValidation(unAvail)">
                  </select>
                  <select class="form-control very_small" ng-model="unAvail.start_min" ng-options="n for n in range(00,55,5)" ng-change="checkValidation(unAvail)">
                  </select>
                  <span>{{'appointment.to' | translate:translationData}}</span>
                  <select class="form-control very_small" ng-model="unAvail.end_hr" ng-options="n for n in range(00,23)" ng-change="checkValidation(unAvail)">
                  </select>
                  <select class="form-control very_small" ng-model="unAvail.end_min" ng-options="n for n in range(00,55,5)" ng-change="checkValidation(unAvail)">
                  </select>
                </div>
                <div class="error_msg" ng-show="endTimeError">
                  {{'appointment.endTimeError' | translate:translationData}}
                </div>
              </div>
              <div class="col-sm-6">
                <label>{{'appointment.note' | translate:translationData}}</label>
                <div class="form-group">
                  <textarea class="form-control waitList_note" ng-class="{big_textarea:unAvail.repeat=='week'}" placeholder="Enter Text" ng-model="unAvail.notes"></textarea>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="row repeat_by_con">
                  <div class="col-sm-4">
                    <label>{{'appointment.repeat' | translate:translationData}}</label>
                    <div class="form-group">
                      <select class="form-control" ng-model="unAvail.repeat">
                        <option value="None">{{'appointment.none' | translate:translationData}}</option>
                        <option value="day">{{'appointment.daily' | translate:translationData}}</option>
                        <option value="week">{{'appointment.weekly' | translate:translationData}}</option>
                        <option value="month">{{'appointment.monthly' | translate:translationData}}</option>
                      </select>
                      <small>&nbsp;</small>
                    </div>
                  </div>
                  <div class="col-sm-4" ng-show="unAvail.repeat!='None'">
                    <label>{{'appointment.repeatEvery' | translate:translationData}}</label>
                    <div class="form-group">
                      <input type="text" class="form-control very_small text-center" ng-model="unAvail.repeat_every">
                      <small>{{unAvail.repeat}}</small>
                    </div>
                  </div>
                  <div class="col-sm-4" ng-show="unAvail.repeat!='None'">
                    <label>{{'appointment.endsAfter' | translate:translationData}}</label>
                    <div class="form-group">
                      <input type="text" class="form-control very_small text-center" ng-model="unAvail.ends_after">
                      <small>{{'appointment.ocurrences' | translate:translationData}}</small>
                    </div>
                  </div>
                  <div class="col-sm-12" ng-show="unAvail.repeat=='week'">
                    <div class="form-group">
                      <div class="avail_days">
                        <label>
                          <p>M</p>
                          <input type="checkbox" ng-model="weekDays.day1" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                        <label>
                          <p>T</p>
                          <input type="checkbox" ng-model="weekDays.day2" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                        <label>
                          <p>W</p>
                          <input type="checkbox" ng-model="weekDays.day3" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                        <label>
                          <p>T</p>
                          <input type="checkbox" ng-model="weekDays.day4" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                        <label>
                          <p>F</p>
                          <input type="checkbox" ng-model="weekDays.day5" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                        <label>
                          <p>S</p>
                          <input type="checkbox" ng-model="weekDays.day6" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                        <label>
                          <p>S</p>
                          <input type="checkbox" ng-model="weekDays.day0" ng-change="pushWeekDays(weekDays)"><span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-12 radios_btns" ng-show="unAvail.has_series">
                <div class="radio" ng-show="unAvail.repeat!='None'">
                  <label>
                    <input type="radio" name="updateFlag" value="0" ng-model="unAvail.flag"><span></span>{{'appointment.onlyThis' | translate:translationData}}
                  </label>
                </div>
                <div class="radio" ng-show="unAvail.repeat!='None'">
                  <label>
                    <input type="radio" name="updateFlag" value="1" ng-model="unAvail.flag"><span></span>{{'appointment.followingApp' | translate:translationData}}
                  </label>
                </div>
                <div class="radio" ng-show="unAvail.repeat!='None'">
                  <label>
                    <input type="radio" name="updateFlag" value="2" ng-model="unAvail.flag"><span></span>{{'appointment.allAppointment' | translate:translationData}}
                  </label>
                </div>
              </div>
              <div class="clearfix"></div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</script>

<!-- Unavailable modal html -->
<script type="text/ng-template" id="unavailableBlock.html">
  <div class="popUp">
    <div class="cross_bar">
        <a href="" class="cross_btn" ng-click="cancel()"></a>
    </div>
    <div class="rightSide_content">
      <div class="content_box">
          <div class="topBar_content">
            <div class="row">
                <div class="col-sm-4">
                  <h3>{{appointmentsDetails.title}}</h3>
                  <h6><span ng-show="appointmentsDetails.updated_at!=null">{{'appointment.lastUpdate' | translate:translationData}} {{appointmentsDetails.updated_at}}</span>
                  <span ng-show="appointmentsDetails.updated_at==null">{{'appointment.createdAt' | translate:translationData}} {{appointmentsDetails.created_at}}</span></h6>
                </div>
                <div class="col-sm-8 text-right">
                  <button class="delete_btn" type="button" ng-click="delete_app()" ng-show="!delete_app_sec" ng-if="appPerm.destroy">
                    {{'button.delete' | translate:translationData}}
                  </button>
                  <button class="cancel_btn" type="button" ng-click="cancel()">
                    {{'button.cancel' | translate:translationData}}
                  </button>
                  <button class="edit_btn" type="button" ng-click="editUnavailbility()" ng-if="appPerm.modify">
                    {{'button.edit' | translate:translationData}}
                  </button>
                  <button class="reschedule_btn" type="button" ng-click="rescheduleAppointment(appointmentsDetails)" ng-if="appPerm.modify">
                    {{'appointment.reschedule' | translate:translationData}}
                  </button>
                </div>
            </div>
      </div>
      <div class="tab_contents">
        <div class="top_detail_con appointment_info" style="border:solid 1px #ccc">
          <div class="detail_con left_side_con" style="padding-bottom:10px;">
            <div class="detail_content">
              <div class="row">
                <div class="col-sm-12 detail_content">
                  <div class="app_img">
                    <img src="assets/cal_img.png" alt="">
                  </div>
                  <div class="patient_detail app_info patient_detail_con">
                    <h4>{{appointmentsDetails.practitioner}}</h4>
                    <h6>{{appointmentsDetails.which_date}} {{'appointment.label_at' | translate:translationData}} {{appointmentsDetails.at}} {{'appointment.for' | translate:translationData}} {{appointmentsDetails.unavail_period}}</h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="detail_content right_side_con">
            <div class="invoice_balance app_links next_apps">
              <div class="next-app">
                <h4>Note</h4>
                <div class="next_app_con no_next_app">
                  <ul class="list-inline no_appointment">
                    <li>
                      <p class="text-center">{{!appointmentsDetails.notes ? 'N/A' : appointmentsDetails.notes}}</p>
                    </li>
                  </ul>
                </div>
                <div class="book_another">
                  <button class="btn btn-primary" ng-click="anotherAppointment(appointmentsDetails)" ng-if="appPerm.create">Create Another</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="row trim_row cancel_appointment" ng-if="delete_app_sec">
        <div class="row">
          <div class="col-sm-12">
            <h4>{{'appointment.deleteUnavail' | translate:translationData}}</h4>
          </div>
          <div class="col-sm-12">
            <p>{{'appointment.deleteUnavailMsg' | translate:translationData}}</p>
          </div>
          <div class="col-sm-12 radios_btns" ng-if="appointmentsDetails.has_series">
            <div class="radio">
              <label>
                <input type="radio" name="deleteFlag" value="0" ng-model="appointmentsDetails.deleteUnavail"><span></span>{{'appointment.onlyThis' | translate:translationData}}
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="deleteFlag" value="1" ng-model="appointmentsDetails.deleteUnavail"><span></span>{{'appointment.followingApp' | translate:translationData}}
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="deleteFlag" value="2" ng-model="appointmentsDetails.deleteUnavail"><span></span>{{'appointment.allAppointment' | translate:translationData}}
              </label>
            </div>
            {{deleteUnavail}}
          </div>
          <div class="col-sm-12">
            <button class="btn btn-primary" type="button" style="margin-left: 0" ng-click="deleteUnavail(appointmentsDetails.id,appointmentsDetails.deleteUnavail)">{{'button.delete' | translate:translationData}}</button>
            <button class="btn btn-warning big_btn" type="button" ng-click="dont_delete()">{{'appointment.dontDelete' | translate:translationData}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</script>

<!-- SMS Modal -->
<script type="text/ng-template" id="sendSmsModal.html">
  <div class="modal-body fileattach">
    <a href="" ng-click="cancel()" class="close-popup"></a>
    <div class="drag_drop">
      <h4>{{'appointment.sendSMS' | translate:translationData}}</h4>
      <div class="sms">
        <form class="form-horizontal">
          <div class="form-group">
            <label class="col-sm-2 control-label">{{'appointment.to' | translate:translationData}}</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" placeholder="Eg. Brad Pitt" disabled="disabled">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">{{'appointment.number' | translate:translationData}}</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" placeholder="Mobile No" disabled="disabled">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">{{"appointment.message" | translate:translationData}}</label>
            <div class="col-sm-10">
              <textarea class="form-control"></textarea>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <button type="submit">{{'button.send' | translate:translationData}}</button>
              <button type="button" ng-click="cancel()">{{'button.cancel' | translate:translationData}}</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</script>