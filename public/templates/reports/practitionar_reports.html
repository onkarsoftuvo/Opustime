<div class="reports-con">
  <div class="top-container">
    <div class="col-md-12 top-links" ng-include="'templates/reports/top-bar.html'"></div>
  </div>
  <div class="graph_con" ng-scrollbars rebuild-on-resize rebuild-on="rebuild:me">
    <div class="graph">
      <div class="chart_con">
        <canvas id="pie" class="chart chart-pie" chart-data="pieChart.data" chart-labels="pieChart.labels" chart-legend="true" chart-options="chart_options"></canvas>
        </canvas>
      </div>
      <div class="chart_menu">
        <select class="form-control" ng-model="type" ng-change="getPieData()">
          <option value="atype">{{'appointment.appType' | translate:translationData}}</option>
          <option value="loc">{{'patient_detail.Business' | translate:translationData}}</option>
          <option value="item">{{'settings.top_links.billable_items' | translate:translationData}}</option>
        </select>
        <div class="addToDash">
          <h2>{{'reports.Add_to_Dashboard' | translate:translationData}}</h2>
          <label class="on-off">
              <input type="checkbox" ng-model="addDash.doctor" ng-change="addToDashboard(addDash.doctor)">
              <span class="bg"></span>
          </label>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="reports_filters">
      <button class="pull-right apply export" ng-click="export()">{{'button.export' | translate:translationData}}</button>
      <button class="pull-right apply export" ng-click="print()">{{'patient_detail.Print' | translate:translationData}}</button>
      <div class="clearfix"></div>
    </div>
    <div class="reports_filters">
      <label>{{'patient_detail.From' | translate:translationData}}</label>
      <input type="text" name="" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="fromDate.opened" min-date="minDate" max-date="filter.to" datepicker-options="dateOptions" ng-click="openFrom($event)" ng-model="filter.from" show-button-bar="false">
      <span class="divider"></span>
      <label>{{'settings.data_export.label_to' | translate:translationData}}</label>
      <input type="text" name="" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="toDate.opened" min-date="filter.from" max-date="dobMaxDate" datepicker-options="dateOptions" ng-click="openTo($event)" ng-model="filter.to" show-button-bar="false">
      <div class="arr_con">
        <div class="btn-group" uib-dropdown is-open="statu.isopen">
          <button id="bus_filter" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            {{'expense.business' | translate}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="bus_filter" ng-click="stopEvent($event)">
            <li role="menuitem" ng-repeat="list in allFilters.locations">
              <label>
                <input type="checkbox" ng-model="list.ischecked"><span></span> {{list.name}}
              </label>
            </li>
          </ul>
        </div>
      </div>
      <div class="arr_con">
        <div class="btn-group" uib-dropdown is-open="status.isopen">
          <button id="ser_filter" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            {{'label.Service_Type' | translate:translationData}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="ser_filter" ng-click="stopEvent($event)">
            <li role="menuitem" ng-repeat="billableItems in allFilters.service_items">
              <label>
                <input type="checkbox" ng-model="billableItems.ischecked"><span></span> {{billableItems.name}}
              </label>
            </li>
          </ul>
        </div>
      </div>
      <div class="arr_con">
        <div class="btn-group" uib-dropdown is-open="app.isopen">
          <button id="app_filter" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            {{'appointment.appType' | translate:translationData}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="app_filter" ng-click="stopEvent($event)">
            <li role="menuitem" ng-repeat="serList in allFilters.services">
              <label>
                <input type="checkbox" ng-model="serList.ischecked"><span></span> {{serList.name}}
              </label>
            </li>
          </ul>
        </div>
      </div>
      <button class="pull-right apply" ng-click="allPractitionarsData()">{{'button.Clear' | translate:translationData}}</button>
      <button class="pull-right apply"  ng-click="filterPractitionarsData()">{{'button.Apply' | translate:translationData}}</button>
      <div class="clearfix"></div>
    </div>
    <div class="table-responsive reports-table">
      <table class="table table-hover" datatable="ng">
        <thead>
          <tr>
            <th>{{'settings.user_practitioners.practitioner' | translate:translationData}}</th>
            <th>{{'sidebar_menu.appointments' | translate:translationData}}</th>
            <th>{{'reports.Rised_Invoices_doller' | translate:translationData}}</th>
            <th>{{'reports.Closed_Invoices_doller' | translate:translationData}}</th>
            <th>{{'reports.Opened_Invoices_doller' | translate:translationData}}</th>
            <th>{{'reports.Total_Revenue_doller' | translate:translationData}}</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="pracs in allPractitionarsList">
            <td>
              <h4>{{pracs.dc_full_name}}</h4> 
            </td>
            <td>
              {{!pracs.appnt_no ? 'N/A' : pracs.appnt_no}}
            </td>
            <td>
              {{!pracs.rised_invoices ? 'N/A' : pracs.rised_invoices}}
            </td>
            <td>
              {{!pracs.closed_invoices ? 'N/A' : pracs.closed_invoices}}            
            </td>
            <td>
              {{!pracs.opened_invoices ? 'N/A' : pracs.opened_invoices}}            
            </td>
            <td>
              {{!pracs.revenue ? 'N/A' : pracs.revenue}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> 