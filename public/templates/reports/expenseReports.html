<div class="reports-con">
  <div class="top-container">
    <div class="col-md-12 top-links" ng-include="'templates/reports/top-bar.html'"></div>
  </div>
  <div class="graph_con" ng-scrollbars rebuild-on-resize rebuild-on="rebuild:me">
    
    <div class="reports_filters">
      <label>{{'communication.from' | translate:translationData}}</label>
      <input type="text" name="" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="fromDate.opened" min-date="" max-date="" datepicker-options="dateOptions" ng-click="openFrom($event)" ng-model="filter.from" show-button-bar="false">
      <span class="divider"></span>
      <label>{{'communication.to' | translate:translationData}}</label>
      <input type="text" name="" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="toDate.opened" min-date="" max-date="" datepicker-options="dateOptions" ng-click="openTo($event)" ng-model="filter.to" show-button-bar="false">
      <label>{{'settings.appointment_type.main_heading' | translate:translationData}}</label>
      <div class="arr_con">
        <select class="form-control all-catReport"  ng-model="filter.category">
          <option value="all">{{'label.All_Categories' | translate:translationData}}</option>
          <option ng-repeat="catList in allCategoryList" value="{{catList.value}}">{{catList.name}}</option>
        </select>
      </div>
      <button class="pull-right apply" ng-click="allExpensesData()">{{'button.Apply' | translate:translationData}}</button>
      <div class="clearfix"></div>
    </div>
    <div class="row">
      <div class="col-sm-12 gv-mrgn">
        <h2>{{'label.Summary_by_expense_category' | translate:translationData}}</h2>
      </div>
    </div>
    <div class="table-responsive reports-table">
      <table class="table table-hover">
        <thead ng-if="!noData">
          <tr>
            <th>{{'settings.appointment_type.label_cat' | translate:translationData}}</th>
            <th>{{'label.Amount_ex' | translate:translationData}}</th>
            <th>{{'label.tax_doller' | translate:translationData}}</th>
            <th>{{'label.total_inc_doller' | translate:translationData}}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="4" class="text-center noData" ng-if="noSummary">No Data to Display</td>
          </tr>
          <tr ng-repeat="summary in allSummary">
            <td>{{!summary.category? 'N/A' : summary.category}}</td>
            <td>{{!summary.amount_ex_tax ? 'N/A' : summary.amount_ex_tax}}</td>
            <td>{{!summary.tax ? 'N/A' : summary.tax}}</td>
            <td>{{!summary.amount_inc_tax ? 'N/A' : summary.amount_inc_tax}}</td>
          </tr>
        </tbody>
        <tfoot ng-if="summaryTotal.flag">
          <tr>
            <td>Total</td>
            <td>{{!summaryTotal.total_amount_ex_tax ? 'N/A' : summaryTotal.total_amount_ex_tax}}</td>
            <td>{{!summaryTotal.total_amount_tax ? 'N/A' : summaryTotal.total_amount_tax}}</td>
            <td>{{!summaryTotal.total_amount_inc_tax ? 'N/A' : summaryTotal.total_amount_inc_tax}}</td>
          </tr>
        </tfoot>
      </table>
    </div>
    <hr>

    <div class="table-responsive reports-table">
      <table class="table" datatable="ng">
        <thead>
          <tr>
            <th>{{'expense.label_expense' | translate:translationData}}</th>
            <th>{{'communication.date' | translate:translationData}}</th>
            <th>{{'expense.label_vendor' | translate:translationData}}</th>
            <th>{{'expense.label_category' | translate:translationData}}</th>
            <th>{{'appointment.note' | translate:translationData}}</th>
            <th>{{'label.subtotal_doller' | translate:translationData}}</th>
            <th>{{'label.tax_doller' | translate:translationData}}</th>
            <th>{{'label.total_doller' | translate:translationData}}</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="list in allExpensesList">
            <td>
              <a href="" ui-sref="expense.edit({'ex_id' : list.expense_id})">{{list.expense_id}}</a>
            </td>
            <td>{{!list.date ? 'N/A' : list.date}}</td>
            <td>{{!list.vendor ? 'N/A' : list.vendor}}</td>
            <td>{{!list.category ? 'N/A' : list.category}}</td>
            <td>{{!list.notes ? 'N/A' : list.notes}}</td>
            <td>{{!list.sub_total ? 'N/A' : list.sub_total}}</td>
            <td>{{!list.tax ? 'N/A' : list.tax}}</td>
            <td>{{!list.total ? 'N/A' : list.total}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>