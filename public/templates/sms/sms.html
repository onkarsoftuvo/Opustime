<div class="reports-con">
  <div class="top-container sms_container">
    <div class="col-md-12 top-links" ng-include="'templates/sms/top-bar.html'"></div>
  </div>
  <div class="sms_filter">
    <div class="side_filter">
      <label ng-class="{'active' : filter == 'patient'}">
        {{'communication.patient' | translate:translationData}} <input type="radio" name="smsFilter" ng-model="filter" value="patient" ng-click="patientRadio()"><span></span>
      </label>
      <label ng-class="{'active' : filter == 'user'}">
        {{'sms.user' | translate:translationData}} <input type="radio" name="smsFilter" ng-model="filter" value="user" ng-click="usersRadio()"><span></span>
      </label>
      <label ng-class="{'active' : filter == 'contact'}">
        {{'patient_detail.Contact' | translate:translationData}} <input type="radio" name="smsFilter" ng-model="filter" value="contact" ng-click="contactRadio()"><span></span>
      </label>
      <label ng-class="{'active' : filter == 'birthdays'}">
        Birthdays <input type="radio" name="smsFilter" ng-model="filter" value="birthdays" ng-click="birthdayRadio()"><span></span>
      </label>
      <label ng-class="{'active' : filter == 'refers'}">
        Referrer  <input type="radio" name="smsFilter" ng-model="filter" value="refers" ng-click="referresRadio()"><span></span>
      </label>
      <label ng-class="{'active' : filter == 'recalls'}">
        Recalls <input type="radio" name="smsFilter" ng-model="filter" value="recalls" ng-click="recallRadio()"><span></span>
      </label>
    </div>
    <div class="filter_btns">
      <button class="snd_btn" ng-click="sendSMS()"><i class="fa fa-pencil" aria-hidden="true"></i> <span>{{'button.composeSms' | translate:translationData}}</span></button>
    </div>
    <div class="clearfix"></div>

    <div class="inner_filter" ng-show="radioCon" ng-class="{'animate' : radioCon}">
      <label>
        {{'contact.standard' | translate:translationData}} <input type="checkbox" name="" ng-model="standard" ng-change="filterSMS(pagingData)"><span></span>
      </label>
      <label>
        {{'contact.doctor' | translate:translationData}} <input type="checkbox" name="" ng-model="doctor" ng-change="filterSMS(pagingData)"><span></span>
      </label>
      <label>
        {{'sms.third_Party' | translate:translationData}} <input type="checkbox" name="" ng-model="third_party" ng-change="filterSMS(pagingData)"><span></span>
      </label>
      <div class="clearfix"></div>
    </div>

    <div class="inner_filter dateFilter" ng-show="radioBirth" ng-class="{'animate' : radioBirth}">
      <div class="patient_center_filter">
        <form ng-submit="filterSMS(pagingData)">
          <div class="form-group cal">
            <label>Birthday Date Filter</label>
            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" placeholder="YYYY-MM-DD" is-open="birth.opened" ng-click="openBirth($event)" ng-model="birthdayDate" show-button-bar="false" show-weeks="false">
          </div>
          <div class="form-group submitBtn">
            <label>&nbsp;</label>
            <div class="clearfix"></div>
            <button type="submit">Filter</button>
          </div>
        </form>
      </div>
      <div class="clearfix"></div>
    </div>

    <div class="inner_filter dateFilter" ng-show="radioRecall" ng-class="{'animate' : radioRecall}">
      <div class="patient_center_filter">
        <form ng-submit="filterSMS(pagingData)">
          <div class="form-group cal">
            <label>Recall Date Filter</label>
            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" placeholder="YYYY-MM-DD" is-open="recall.opened" ng-click="openRecall($event)" ng-model="recallDate" show-button-bar="false" show-weeks="false">
          </div>
          <div class="form-group submitBtn">
            <label>&nbsp;</label>
            <div class="clearfix"></div>
            <button type="submit">Filter</button>
          </div>
        </form>
      </div>
      <div class="clearfix"></div>
    </div>

    <div class="inner_filter dateFilter" ng-show="radioRefer" ng-class="{'animate' : radioRefer}">
      <div class="patient_center_filter">
        <form ng-submit="filterSMS(pagingData)">
          <div class="form-group cal">
            <label>Refer Date Filter</label>
            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" placeholder="YYYY-MM-DD" is-open="refer.opened" ng-click="openRefer($event)" ng-model="referDate" show-button-bar="false" show-weeks="false">
          </div>
          <div class="form-group submitBtn">
            <label>&nbsp;</label>
            <div class="clearfix"></div>
            <button type="submit">Filter</button>
          </div>
        </form>
      </div>
      <div class="clearfix"></div>
    </div>

    <div class="inner_filter" ng-show="radioPatient" ng-class="{'animate' : radioPatient}">
      <div class="patient_filter">
        <label>
          <input type="radio" name="patient_filter" ng-model="patientFilter" value="appnt"><span></span> {{'invoice.appointment' | translate:translationData}}
        </label>
        <label>
          <input type="radio" name="patient_filter" ng-model="patientFilter" value="payment"><span></span> {{'label.Payment' | translate:translationData}}
        </label>
      </div>
      <div class="patient_center_filter" ng-show="patientFilter == 'payment'">
        <label>
          <input type="checkbox" name="" ng-model="outstanding"><span></span> {{'invoice.outstandingBalance' | translate:translationData}}
        </label>
        <label>
          <input type="checkbox" name="" ng-model="credit"><span></span> {{'sms.Credit_balance' | translate:translationData}}
        </label>
      </div>
      <div class="patient_center_filter" ng-show="patientFilter == 'appnt'">
        <div class="form-group cal">
          <label>{{'sms.Date_From' | translate:translationData}}</label>
          <input type="text" name="" class="form-control" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="from.opened" min-date="minDate" max-date="toDate" datepicker-options="dateOptions" ng-click="openFrom($event)" ng-model="fromDate" show-button-bar="false" show-weeks="false">
        </div>
        <div class="form-group center_divider">
          <label>&nbsp;</label>
          -
        </div>
        <div class="form-group cal">
          <label>{{'sms.Date_To' | translate:translationData}}</label>
          <input type="text" name="" class="form-control" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="to.opened" min-date="fromDate" datepicker-options="dateOptions" ng-click="openTo($event)" ng-model="toDate" show-button-bar="false" show-weeks="false">
        </div>
        <div class="form-group center_divider">
          <label>&nbsp;</label>
        </div>
        <div class="form-group">
          <label>{{'appointment.businesses' | translate:translationData}}</label>
          <div class="arr_con">
            <div class="btn-group" uib-dropdown is-open="status.isopen">
              <button id="busines_filter" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
                {{'appointment.businesses' | translate:translationData}} 
              </button>
              <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="busines_filter" ng-click="stopEvent($event)">
                <li role="menuitem" ng-repeat="buss in appFilter.businesses">
                  <label>
                    <input type="checkbox" ng-model="buss.ischecked"><span></span> {{buss.name}}
                  </label>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>{{'sidebar_menu.Practitioners' | translate:translationData}}</label>
          <div class="arr_con">
            <div class="btn-group" uib-dropdown is-open="statss.isopen">
              <button id="doctor_filter" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
                {{'sidebar_menu.Practitioners' | translate:translationData}} 
              </button>
              <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="doctor_filter" ng-click="stopEvent($event)">
                <li role="menuitem" ng-repeat="doc in appFilter.doctors">
                  <label>
                    <input type="checkbox" ng-model="doc.ischecked"><span></span> {{doc.name}}
                  </label>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>{{'reports.Services' | translate:translationData}}</label>
          <div class="arr_con">
            <div class="btn-group" uib-dropdown is-open="statuss.isopen">
              <button id="service_filter" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
                {{'reports.Services' | translate:translationData}}
              </button>
              <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="service_filter" ng-click="stopEvent($event)">
                <li role="menuitem" ng-repeat="ser in appFilter.services">
                  <label>
                    <input type="checkbox" ng-model="ser.ischecked"><span></span> {{ser.name}}
                  </label>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <label class="without_upcoming">
          <input type="checkbox" name="" ng-model="upcoming"><span></span> {{'sms.Without_Upcoming' | translate:translationData}}
        </label>
      </div>
      <div class="patient_right_filter">
        <a href="" ng-click="filterSMS(pagingData)">{{'button.Apply' | translate:translationData}}</a><br>
        <a href="" ng-click="clearFilter()">{{'button.Clear' | translate:translationData}}</a>
      </div>
      <div class="clearfix"></div>
    </div>
  </div> 
  <div class="sms_con" ng-class="{'big_filter' : radioPatient, 'small_filter' : radioCon}" ng-scrollbars rebuild-on-resize rebuild-on="rebuild:me">
    <div class="table-responsive">
      <table class="table table-hover">
        <thead ng-show="smsList.length != 0">
          <tr>
            <th class="custom_checkbox text-center">
              <input type="checkbox" name="" ng-change="selectAll()" ng-model="selectEach">
              <span></span>
            </th>
            <th>{{'contact.Name' | translate:translationData}}</th>
            <th ng-if="filter == 'recalls'">{{'contact.recallType' | translate:translationData}}</th>
            <th>{{'sms.Mobile_Primary' | translate:translationData}}</th>
            <th>{{'sms.Mobile_Alternate' | translate:translationData}}</th>
            <th>{{'label.home' | translate:translationData}}</th>
            <th>{{'label.work' | translate:translationData}}</th>
            <th ng-if="filter == 'recalls'">{{'contact.completionStatus' | translate:translationData}}</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-if="smsList.length == 0">
            <td class="text-center">
              <h4>{{'label.No_Data_Found' | translate:translationData}}</h4>
            </td>
          </tr>
          <tr ng-repeat="list in smsList" ng-class="{'active' : list.isSelect}">
            <td class="custom_checkbox text-center">
              <input type="checkbox" name="" ng-model="list.isSelect" ng-disabled="!list.contact_one && !list.contact_second && !list.contact_third && !list.contact_fourth">
              <span></span>
            </td>
            <td ng-if="filter == 'recalls'">
              <h5><a style="cursor: pointer;" ng-click="goToPatient(list.id)">{{list.name}}</a><span ng-if="list.concession"> ({{list.concession}})</span></h5>
            </td>
            <td ng-if="filter != 'recalls'"><h5>{{list.name}}<span ng-if="list.concession">({{list.concession}})</span></h5></td>
            <td ng-if="filter == 'recalls'">
              <p ng-if="list.recall_type != null">{{list.recall_type}}</p>
              <p ng-if="list.recall_type == null">N/A</p>
            </td>
            <td>{{!list.contact_one ? 'N/A' : list.contact_one}}</td>
            <td>{{!list.contact_second ? 'N/A' : list.contact_second}}</td>
            <td>{{!list.contact_third ? 'N/A' : list.contact_third}}</td>
            <td>{{!list.contact_fourth ? 'N/A' : list.contact_fourth}}</td>
            <td ng-if="filter == 'recalls'">
              <p ng-if="list.is_recall_complete"><i style="color: green;" class="fa fa-check" aria-hidden="true"></i></p>
              <p ng-if="!list.is_recall_complete"><i style="color: red;" class="fa fa-times" aria-hidden="true"></i></p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-right" ng-if="pagingData.TotalItems > 30">
      <div class="row" ng-controller="PagePaginationController" ng-show="showGrid">
        <div class="col-lg-12 col-sm-12 col-md-12">
          <div class="col-lg-2 col-sm-2 col-md-2 side_filter">
            <label style="border-right: none;">Page Size&nbsp;&nbsp;
            <select ng-model="pager.pageSize" ng-options="pageNo for pageNo in pager.pageSizeValues" ng-change="onSelectPageSize(pagingData, pager.pageSize)" class="paging-select" ng-disabled="pager.currentPage == pager.numPages"></select>
            </label>
          </div>
          <div class="col-lg-10 col-sm-10 col-md-10">
              <pagination total-items="pager.totalItems" ng-model="pager.currentPage" max-size="pager.maxSize" items-per-page="pager.pageSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="pager.numPages" ng-change="onSelectPage(pagingData, pager.currentPage)">
              </pagination>
          </div>
          <div ng-init="initPager(pagingData);"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="newView" ui-view></div>