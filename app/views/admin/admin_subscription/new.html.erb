<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Subscription Package
    </h1>
    <ol class="breadcrumb">
      <li><i class="fa fa-dashboard"></i> Home</li>
      <li class="active">Subscription</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-md-8">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Add Subscription Package</h3>
          </div>
          <p style= "color:green;" id="notice"><%= flash[:notice] %></p>
          <p style= "color:red;" id="warning"><%= flash[:alert] %></p>
          <!-- /.box-header -->
          <!-- form start -->

          <%= form_for(@plan, :url => {:action => 'create'}, html: { :id=>'new_plan_from',:class => "form-horizontal box-body"},:remote=>true) do |f| %>

              <div class="form-group">
                <!-- <label class="col-sm-3 control-label">User name</label>-->
                <%= f.label :Plan_Name, nil, :class => "col-sm-3 control-label"%>
                <div class="col-sm-9">
                  <!--<input type="text" class="form-control" placeholder="">-->
                  <%= f.text_field :name,  :required => true, :class =>"form-control" %>
                </div>
              </div>
              <div class="form-group">
                <!--<label class="col-sm-3 control-label">Email</label>-->
                <%= f.label :No_Of_Professionals,nil,:class => "col-sm-3 control-label"%>
                <div class="col-sm-9">
                  <!--<input type="email" class="form-control" placeholder="">-->
                  <%= f.text_field :no_doctors,  :required => true, :class =>"form-control" %>
                </div>
              </div>
              <div class="form-group">
                <!--<label class="col-sm-3 control-label">Email</label>-->
                <%= f.label :Price,nil,:class => "col-sm-3 control-label"%>
                <div class="col-sm-9">
                  <!--<input type="email" class="form-control" placeholder="">-->
                  <%= f.text_field :price, :required => true, :class =>"form-control" %>
                </div>
              </div>
              <div class="form-group">
                <!--<label class="col-sm-3 control-label">Email</label>-->
                <%= f.label :Duration,nil,:class => "col-sm-3 control-label"%>
                <div class="col-sm-9">
                  <!--<input type="email" class="form-control" placeholder="">-->
                  <%= f.select(:category,[['Monthly'],['Yearly']],{},{:class => "form-control"})%>
                </div>
              </div>
              <div class="form-group">
                <%= f.label :Status,nil, :class => "col-sm-3 control-label"%>
                <div class="col-sm-9">
                  <!--<input type="email" class="form-control" placeholder="">-->
                  <%= f.select(:status, [['Active',true],['Inactive',false]],{},{:class => "form-control"})%>
                </div>
              </div>

              <div class="form-group">
                <!--<label class="col-sm-3 control-label">Email</label>-->
                <%= f.label :Information,:class => "col-sm-3 control-label"%>
                <div class="col-sm-9">
                  <!--<input type="email" class="form-control" placeholder="">-->
                  <%= f.text_field :information,  :class =>"form-control" %>
                </div>
              </div>
              <div class="box-footer">
                <%= f.submit "Save", class: "btn btn-info pull-right add_plan" %>
              </div>

          <% end %>

        </div>
        <!-- /.box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>
  <!-- /.content -->
</div>

<script>
    $(function () {
        $("#example1").DataTable();
        $('#example2').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": false,
            "ordering": true,
            "info": true,
            "autoWidth": false
        });
    });
    $("#notice" ).fadeOut(5000);
    $("#warning" ).fadeOut(5000);



    $('#new_plan_from').bind('ajax:success', function (xhr, response, status) {
        if (response.flag == true && status == 'success') {
            toast.success_message(response.message)
            window.location.href = '<%= admin_subscription_index_path %>'
        }
        else {
            if('message' in response){
                toast.error_message(response.message)
            }else{
                toast.multiple_error_messages(response.errors)
            }
        }
    });


</script>
