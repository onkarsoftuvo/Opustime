<%= javascript_include_tag 'logs.js','logs_temp.js','https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js' %>
<style>
table.dataTable thead .sorting_asc,table.dataTable thead .sorting,table.dataTable thead .sorting_desc{
  background: none;
}
table tr td.trim{
  position: relative;
}
table tr td.trim p{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 140px;
  margin: 0;
}
table tr td.trim p + span{
  position: absolute;
  top: 10px;
  width: 100%;
  left: 50%;
  margin-left: -50%;
  background: #3c8dbc;
  pointer-events: none;
  padding: 5px 10px;
  text-align: center;
  opacity: 0;
  transition: all ease-out 0.3s 0s;
  z-index: 10;
  word-wrap: break-word;
  color: #fff;
}
table tr td.trim:hover p + span{
  top: 37px;
  opacity: 1;
}
table tr td.trim a{
  outline: none;
  position:relative;
}
table tr td.trim a span{
    position: absolute;
    width: 50px;
    background: rgba(0,0,0,0.6);
    border-radius: 3px;
    color: #fff;
    text-transform: uppercase;
    text-align: center;
    display: inline-block;
    font-size: 12px;
    padding: 3px 2px 1px;
    left: 50%;
    margin-left: -25px;
    top: -22px;
    opacity:0;
    transition:all ease-out 0.3s 0s;
    pointer-events:none;
}
table tr td.trim a span:after{
    content: attr(x);
    position: absolute;
    border: solid 5px;
    border-color: rgba(0,0,0,0.6) transparent transparent transparent;
    bottom: -10px;
    left: 50%;
    margin-left: -5px;
}
table tr td.trim a:hover span{
    top:-32px;
    opacity:1;
}
.log_table{
  margin-bottom: 20px;
}
.admin_table{
  padding: 25px;
}
.tabbing{
  overflow: auto;
}
.tabbing .col{
  padding: 0;  
}
.table_filter .form-control[readonly].cal{
  background: #fff url(/assets/cal_sky_blue.png) no-repeat right;
  background-position: 92%;
}
.tabbing .col a{
  text-decoration: none;
  padding: 10px;
  text-align: center;
  font-size: 15px;
  display: inline-block;
  width: 100%;
  background: #3c8dbc;
  color: #fff;
  transition: all ease-out 0.3s 0s;
}
.tabbing .col a.active,.tabbing .col a:hover{
  background: #367fa9;
}
.tab_content{
  padding: 20px;
}
.tab_content h3{
  margin-top: 0;
  margin-bottom: 20px;
  font-size: 20px;
  font-weight: 700;
  text-transform: uppercase;
}
.table_filter{
  margin-bottom: 20px;
  border: solid 1px #ccc;
  padding: 25px 10px;
  position: relative;
}
.table_filter > label{
  position: absolute;
  top: -10px;
  left: 10px;
  background: #fff;
  padding: 0 10px;
}
.table_filter button{
  width: 100%;
}
.table_filter + .row{
  margin-bottom: 10px;
}
.pagination > .active > a{
  pointer-events: none;
}
.loading_panel{
  position: fixed;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  display: table;
  z-index: 99999999999;
  background: rgba(0,0,0,0.6);
}
.inner_load{
  display: table-cell;
  text-align: center;
  vertical-align: middle;
  font-size: 30px;
  color: #fff;
}
.cross{
  display: inline-block;
  width: 16px;
  height: 16px;
  background: url(/assets/cross_blue.png) no-repeat center;
  float: right;
  margin-bottom: 10px;
}
.hv_scroll{
  height: 200px;
  overflow: auto;
}
</style>
<div class="content-wrapper" ng-app="adminApplication">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Logs
    </h1>
    <ol class="breadcrumb">
      <li><i class="fa fa-dashboard"></i> Home</li>
      <li class="active">Logs</li>
    </ol>
  </section>
  <!-- Main content -->
  <section class="content" ng-controller="logsCtrl">
    <div class="loading_panel" ng-if="loading">
      <div class="inner_load"><i class="fa fa-spinner fa-spin fa-3x fa-fw"></i></div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="box box-solid admin_table">
          <!-- /.box-header -->

          <div class="tabbing">
            <div class="col col-md-3">
              <a href="" ng-click="openFirst()" ng-class="{'active' : firstTab}">Application</a>
            </div>
            <div class="col col-md-3">
              <a href="" ng-click="openFourth()" ng-class="{'active' : fourthTab}">Admin</a>
            </div>
            <div class="col col-md-3">
              <a href="" ng-click="openSecond()" ng-class="{'active' : secondTab}">QuickBooks</a>
            </div>
            <div class="col col-md-3">
              <a href="" ng-click="openThird()" ng-class="{'active' : thirdTab}">Authorized.net</a>
            </div>
          </div>
          <div class="tab_content" ng-show="firstTab">
            <!-- <h3>Application Logs</h3> -->
            <div class="table_filter">
              <label>Filters</label>
              <div class="col-sm-3">
                <label>Companies</label>
                <select class="form-control" ng-model="appBusiness" ng-change="updateCompany(appBusiness)">
                  <option ng-repeat="comps in allComps" value="{{comps.id}}">{{comps.full_name}}</option>
                </select>
              </div>
              <div class="col-sm-3">
                <label>Users</label>
                <select class="form-control" ng-model="appUsers">
                  <option value="">Select User</option>
                  <option ng-repeat="users in allUsers" value="{{users.id}}">{{users.full_name}}</option>
                </select>
              </div>
              <div class="col-sm-2">
                <label>Start Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="startDate.opened" min-date="" max-date="todayDate" datepicker-options="dateOptions" ng-click="openStart($event)" ng-model="filter.start" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-2">
                <label>End Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="endDate.opened" min-date="filter.start" max-date="" datepicker-options="dateOptions" ng-click="openEnd($event)" ng-model="filter.end" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-2">
                <label>&nbsp;</label>
                <button class="btn btn-primary" ng-click="filterLog(appNoOfPage, appUsers)">Filter</button>
              </div>
              <div class="clearfix"></div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="dataTables_length" id="DataTables_Table_2_length">
                  <label>Show
                    <select class="form-control input-sm" ng-model="appNoOfPage" ng-change="updatePerPage(appNoOfPage, appUsers)">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                    entries
                  </label>
                </div>
              </div>
              <div class="col-sm-6">
                <div id="DataTables_Table_2_filter" class="dataTables_filter">
                  <label>Search:
                    <input type="search" class="form-control input-sm" ng-model="searchAppLog">
                  </label>
                </div>
              </div>
            </div>
            <div class="table-responsive log_table">
              <table class="table table-hover table-bordered">
                <thead>
                <tr>
                  <th>{{appHearders[0]}}</th>
                  <th>{{appHearders[1]}}</th>
                  <th>{{appHearders[2]}}</th>
                  <th>{{appHearders[3]}}</th>
                  <th>{{appHearders[4]}}</th>
                  <th>{{appHearders[5]}}</th>
                  <th>{{appHearders[6]}}</th>
                  <th class="text-center">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-if="appLogsDetail.data.length == 0">
                  <td colspan="7" class="text-center">No Logs Found</td>
                </tr>
                <tr ng-repeat="appLog in appLogsDetail.data | filter:searchAppLog">
                  <td><span style="width:40px; display:inline-block">{{appLog.srNo}}</span></td>
                  <td class="trim">
                    <p>{{appLog.class_name}}<p>
                  </td>
                  <td class="trim">
                    <p>{{appLog.message}}</p>
                  </td>
                  <td class="trim">
                    <p>{{appLog.trace}}</p>
                  </td>
                  <td class="trim">
                    <p>{{appLog.params}}</p>
                  </td>
                  <td class="trim">
                    <p>{{appLog.target_url}}</p>
                  </td>
                  <td>
                    <p style="white-space:nowrap;">{{appLog.created_at}}</p>
                  </td>
                  <td class="text-center trim">
                    <a href="" ng-click="openView(appLog)"><i class="fa fa-eye fa-2x"></i><span>show</span></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <!-- Modal -->
            <script type="text/ng-template" id="appLog.html">
              <div class="modal-body confirm-body">
                <a href="" class="cross" ng-click="close()"></a>
                <table class="table table-bordered">
                  <tr>
                    <th style="width:150px;">Error Class Name</th>
                    <td>{{logData.class_name}}</td>
                  </tr>
                  <tr>
                    <th>Error Message</th>
                    <td>{{logData.message}}</td>
                  </tr>
                  <tr>
                    <th>Error Trace</th>
                    <td>
                      <div class="hv_scroll">{{logData.trace}}</div>
                    </td>
                  </tr>
                  <tr>
                    <th>Params</th>
                    <td>{{logData.params}}</td>
                  </tr>
                  <tr>
                    <th>Target URL</th>
                    <td>{{logData.target_url}}</td>
                  </tr>
                  <tr>
                    <th>Time Stamp</th>
                    <td>{{logData.created_at}}</td>
                  </tr>
                </table>
              </div>
            </script>


            <div class="row">
              <div class="col-sm-5">
                <div class="dataTables_info">Showing {{total_showing}} of {{appLogsDetail.total_record}} entries</div>
              </div>
              <div class="col-sm-7">
                <div class="dataTables_paginate paging_simple_numbers">
                  <!-- <ul class="pagination">
                    <li class="paginate_button previous" ng-class="{'disabled' : currentPage == 1}">
                      <a href="" ng-click="prePage(appNoOfPage, appUsers)">«</a>
                    </li>
                    <li ng-repeat="page in paginationItems" ng-class="{'active' : page.pageno==currentPage}" ng-disable="">
                      <a href="" ng-click="updatePage(page.pageno, appNoOfPage, appUsers)">{{page.pageno}}</a>
                    </li>
                    <li class="paginate_button next" ng-class="{'disabled' : currentPage == appLogsDetail.total_page}">
                      <a href="" ng-click="nextPage(appNoOfPage, appUsers)">»</a>
                    </li>
                  </ul> -->
                  <paging
                  page="currentPage"
                  page-size="appNoOfPage"
                  total="appLogsDetail.total_record"
                  paging-action="updatePage(page, appNoOfPage, appUsers)"
                  show-prev-next="true"
                  show-first-last="true"
                  text-next="›"
                  text-prev="‹"
                  text-first="&laquo;"
                  text-last="&raquo;"
                  >
                  </paging>
                </div>
              </div>
            </div>

          </div>


          <div class="tab_content" ng-show="secondTab">
            <div class="table_filter">
              <label>Filters</label>
              <div class="col-sm-3">
                <label>Companies</label>
                <select class="form-control" ng-model="qbBusiness">
                  <option ng-repeat="comps in allComps" value="{{comps.id}}">{{comps.full_name}}</option>
                </select>
              </div>
              <div class="col-sm-3">
                <label>Start Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="startDateQB.opened" min-date="" max-date="todayDate" datepicker-options="dateOptions" ng-click="openQBStart($event)" ng-model="qbfilter.start" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-3">
                <label>End Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="endDateQB.opened" min-date="qbfilter.start" max-date="" datepicker-options="dateOptions" ng-click="openQBEnd($event)" ng-model="qbfilter.end" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-3">
                <label>&nbsp;</label>
                <button class="btn btn-primary" ng-click="filterQBLog(qbNoOfPage)">Filter</button>
              </div>
              <div class="clearfix"></div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="dataTables_length" id="DataTables_Table_2_length">
                  <label>Show
                    <select class="form-control input-sm" ng-model="qbNoOfPage" ng-change="updateQBPerPage(qbNoOfPage)">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                    entries
                  </label>
                </div>
              </div>
              <div class="col-sm-6">
                <div id="DataTables_Table_2_filter" class="dataTables_filter">
                  <label>Search:
                    <input type="search" class="form-control input-sm" ng-model="searchQBLog">
                  </label>
                </div>
              </div>
            </div>
            <div class="table-responsive log_table">
              <table class="table table-hover table-bordered">
                <thead>
                <tr>
                  <th>{{qbHearders[0]}}</th>
                  <th>{{qbHearders[1]}}</th>
                  <th>{{qbHearders[2]}}</th>
                  <th>{{qbHearders[3]}}</th>
                  <th>{{qbHearders[4]}}</th>
                  <th class="text-center">{{qbHearders[5]}}</th>
                  <th>{{qbHearders[6]}}</th>
                  <th class="text-center">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-if="qbLogsDetail.data.length == 0">
                  <td colspan="8" class="text-center">No Logs Found</td>
                </tr>
                <tr ng-repeat="qbLog in qbLogsDetail.data | filter:searchQBLog">
                  <td><span style="width:40px; display:inline-block">{{qbLog.srNo}}</span></td>
                  <td>
                    <p>{{!qbLog.loggable_id? 'N/A' : qbLog.loggable_id}}</p>
                  </td>
                  <td>
                    <p>{{!qbLog.loggable_type? 'N/A' : qbLog.loggable_type}}</p>
                  </td>
                  <td>
                    <p>{{qbLog.action_name}}</p>
                  </td>
                  <td class="trim">
                    <p>{{qbLog.message}}</p>
                  </td>
                  <td class="text-center">
                    <i class="fa fa-check" ng-if="!qbLog.status" style="color:green"></i>
                    <i class="fa fa-times" ng-if="qbLog.status" style="color:red"></i>
                  </td>
                  <td>
                    <p style="white-space:nowrap;">{{qbLog.created_at}}</p>
                  </td>
                  <td class="text-center trim">
                    <a href="" ng-click="openQBView(qbLog)"><i class="fa fa-eye fa-2x"></i><span>show</span></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <!-- Modal -->
            <script type="text/ng-template" id="qbLog.html">
              <div class="modal-body confirm-body">
                <a href="" class="cross" ng-click="close()"></a>
                <table class="table table-bordered">
                  <tr>
                    <th style="width:150px;">Modal Id</th>
                    <td>{{qbLogData.loggable_id}}</td>
                  </tr>
                  <tr>
                    <th>Model Name</th>
                    <td>{{qbLogData.loggable_type}}</td>
                  </tr>
                  <tr>
                    <th>Action Name</th>
                    <td>{{qbLogData.action_name}}</td>
                  </tr>
                  <tr>
                    <th>Message</th>
                    <td>{{qbLogData.message}}</td>
                  </tr>
                  <tr>
                    <th>Status</th>
                    <td>
                      <i class="fa fa-check" ng-if="!qbLogData.status" style="color:green"></i>
                      <i class="fa fa-times" ng-if="qbLogData.status" style="color:red"></i>
                    </td>
                  </tr>
                  <tr>
                    <th>Time Stamp</th>
                    <td>{{qbLogData.created_at}}</td>
                  </tr>
                </table>
              </div>
            </script>


            <div class="row">
              <div class="col-sm-5">
                <div class="dataTables_info">Showing {{total_showingQB}} of {{qbLogsDetail.total_record}} entries</div>
              </div>
              <div class="col-sm-7">
                <div class="dataTables_paginate paging_simple_numbers">
                  <!-- <ul class="pagination">
                    <li class="paginate_button previous" ng-class="{'disabled' : currentQBPage == 1}">
                      <a href="" ng-click="preQBPage(qbNoOfPage)">«</a>
                    </li>
                    <li ng-repeat="qbpage in qbPaginationItems" ng-class="{'active' : qbpage.pageno==currentQBPage}" ng-disable="">
                      <a href="" ng-click="updateQBPage(qbpage.pageno, qbNoOfPage)">{{qbpage.pageno}}</a>
                    </li>
                    <li class="paginate_button next" ng-class="{'disabled' : currentQBPage == qbLogsDetail.total_page}">
                      <a href="" ng-click="nextQBPage(qbNoOfPage)">»</a>
                    </li>
                  </ul> -->
                  <paging
                  page="currentQBPage"
                  page-size="qbNoOfPage"
                  total="qbLogsDetail.total_record"
                  paging-action="updateQBPage(page, qbNoOfPage)"
                  show-prev-next="true"
                  show-first-last="true"
                  text-next="›"
                  text-prev="‹"
                  text-first="&laquo;"
                  text-last="&raquo;"
                  >
                  </paging>
                </div>
              </div>
            </div>
          </div>
          <div class="tab_content" ng-show="thirdTab">
            <div class="table_filter">
              <label>Filters</label>
              <div class="col-sm-3">
                <label>Companies</label>
                <select class="form-control" ng-model="auBusiness">
                  <option ng-repeat="comps in allComps" value="{{comps.id}}">{{comps.full_name}}</option>
                </select>
              </div>
              <div class="col-sm-3">
                <label>Start Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="startDateAU.opened" min-date="" max-date="todayDate" datepicker-options="dateOptions" ng-click="openAUStart($event)" ng-model="aufilter.start" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-3">
                <label>End Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="endDateAU.opened" min-date="aufilter.start" max-date="" datepicker-options="dateOptions" ng-click="openAUEnd($event)" ng-model="aufilter.end" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-3">
                <label>&nbsp;</label>
                <button class="btn btn-primary" ng-click="filterAULog(auNoOfPage)">Filter</button>
              </div>
              <div class="clearfix"></div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="dataTables_length" id="DataTables_Table_2_length">
                  <label>Show
                    <select class="form-control input-sm" ng-model="auNoOfPage" ng-change="updateAUPerPage(auNoOfPage)">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                    entries
                  </label>
                </div>
              </div>
              <div class="col-sm-6">
                <div id="DataTables_Table_2_filter" class="dataTables_filter">
                  <label>Search:
                    <input type="search" class="form-control input-sm" ng-model="searchAULog">
                  </label>
                </div>
              </div>
            </div>
            <div class="table-responsive log_table">
              <table class="table table-hover table-bordered">
                <thead>
                <tr>
                  <th>{{auHearders[0]}}</th>
                  <th>{{auHearders[1]}}</th>
                  <th>{{auHearders[2]}}</th>
                  <!--<th>{{auHearders[3]}}</th>-->
                  <th>{{auHearders[4]}}</th>
                  <th>{{auHearders[5]}}</th>
                  <th>{{auHearders[6]}}</th>
                  <th class="text-center">{{auHearders[7]}}</th>
                  <th>{{auHearders[8]}}</th>
                  <th class="text-center">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-if="auLogsDetail.data.length == 0">
                  <td colspan="10" class="text-center">No Logs Found</td>
                </tr>
                <tr ng-repeat="auLog in auLogsDetail.data | filter:searchAULog">
                  <td><span style="width:40px; display:inline-block">{{auLog.srNo}}</span></td>
                  <td class="trim">
                    <p>{{!auLog.response_id? 'N/A' : auLog.response_id}}</p>
                  </td>
                  <td class="trim">
                    <p>{{!auLog.transaction_type? 'N/A' : auLog.transaction_type}}</p>
                  </td>
                  <!--<td class="trim">-->
                  <!--<p>{{auLog.action_name}}</p>-->
                  <!--</td>-->
                  <td>
                    <p><span ng-if="auLog.amount">$</span>{{!auLog.amount? 'N/A' : auLog.amount}}</p>
                  </td>
                  <td>
                    <p style="width:100px;">{{auLog.response_code}}</p>
                  </td>
                  <td class="trim">
                    <p>{{auLog.response_message}}</p>
                  </td>
                  <td class="text-center">
                    <i class="fa fa-check" ng-if="!auLog.error_status" style="color:green"></i>
                    <i class="fa fa-times" ng-if="auLog.error_status" style="color:red"></i>
                  </td>
                  <td>
                    <p style="white-space:nowrap;">{{auLog.created_at}}</p>
                  </td>
                  <td class="text-center trim">
                    <a href="" ng-click="openAUView(auLog)"><i class="fa fa-eye fa-2x"></i><span>show</span></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <!-- Modal -->
            <script type="text/ng-template" id="auLog.html">
              <div class="modal-body confirm-body">
                <a href="" class="cross" ng-click="close()"></a>
                <table class="table table-bordered">
                  <tr>
                    <th style="width:150px;">Transaction Id</th>
                    <td>{{!auLogData.response_id? 'N/A' : auLogData.response_id}}</td>
                  </tr>
                  <tr>
                    <th>Transaction Type</th>
                    <td>{{!auLogData.transaction_type? 'N/A' : auLogData.transaction_type}}</td>
                  </tr>
                  <!--<tr>-->
                  <!--<th>Action Name</th>-->
                  <!--<td>{{auLogData.action_name}}</td>-->
                  <!--</tr>-->
                  <tr>
                    <th>Amount</th>
                    <td><span ng-if="auLogData.amount">$</span>{{!auLogData.amount? 'N/A' : auLogData.amount}}</td>
                  </tr>
                  <tr>
                    <th>Response Code</th>
                    <td>{{auLogData.response_code}}</td>
                  </tr>
                  <tr>
                    <th>Response Message</th>
                    <td>{{auLogData.response_message}}</td>
                  </tr>
                  <tr>
                    <th>Status</th>
                    <td>
                      <i class="fa fa-check" ng-if="!auLogData.error_status" style="color:green"></i>
                      <i class="fa fa-times" ng-if="auLogData.error_status" style="color:red"></i>
                    </td>
                  </tr>
                  <tr>
                    <th>Time Stamp</th>
                    <td>{{auLogData.created_at}}</td>
                  </tr>
                </table>
              </div>
            </script>


            <div class="row">
              <div class="col-sm-5">
                <div class="dataTables_info">Showing {{total_showingAU}} of {{auLogsDetail.total_record}} entries</div>
              </div>
              <div class="col-sm-7">
                <div class="dataTables_paginate paging_simple_numbers">
                  <!-- <ul class="pagination">
                    <li class="paginate_button previous" ng-class="{'disabled' : currentAUPage == 1}">
                      <a href="" ng-click="preAUPage(auNoOfPage)">«</a>
                    </li>
                    <li ng-repeat="aupage in auPaginationItems" ng-class="{'active' : aupage.pageno==currentAUPage}" ng-disable="">
                      <a href="" ng-click="updateAUPage(aupage.pageno, auNoOfPage)">{{aupage.pageno}}</a>
                    </li>
                    <li class="paginate_button next" ng-class="{'disabled' : currentAUPage == auLogsDetail.total_page}">
                      <a href="" ng-click="nextAUPage(auNoOfPage)">»</a>
                    </li>
                  </ul> -->
                  <paging
                  page="currentAUPage"
                  page-size="auNoOfPage"
                  total="auLogsDetail.total_record"
                  paging-action="updateAUPage(page, auNoOfPage)"
                  show-prev-next="true"
                  show-first-last="true"
                  text-next="›"
                  text-prev="‹"
                  text-first="&laquo;"
                  text-last="&raquo;"
                  >
                  </paging>
                </div>
              </div>
            </div>
          </div>
          <div class="tab_content" ng-show="fourthTab">
            <div class="table_filter">
              <label>Filters</label>
              <div class="col-sm-3">
                <label>Start Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="startDateAD.opened" min-date="" max-date="todayDate" datepicker-options="dateOptions" ng-click="openADStart($event)" ng-model="adfilter.start" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-3">
                <label>End Date</label>
                <input type="text" class="form-control cal" placeholder="YYYY-MM-DD" uib-datepicker-popup="{{format}}" is-open="endDateAD.opened" min-date="adfilter.start" max-date="" datepicker-options="dateOptions" ng-click="openADEnd($event)" ng-model="adfilter.end" show-button-bar="false" show-weeks="false" readonly>
              </div>
              <div class="col-sm-3">
                <label>&nbsp;</label>
                <button class="btn btn-primary" ng-click="filterADLog(adNoOfPage)">Filter</button>
              </div>
              <div class="clearfix"></div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="dataTables_length" id="DataTables_Table_2_length">
                  <label>Show
                    <select class="form-control input-sm" ng-model="adNoOfPage" ng-change="updateADPerPage(adNoOfPage)">
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                    entries
                  </label>
                </div>
              </div>
              <div class="col-sm-6">
                <div id="DataTables_Table_2_filter" class="dataTables_filter">
                  <label>Search:
                    <input type="search" class="form-control input-sm" ng-model="searchADLog">
                  </label>
                </div>
              </div>
            </div>
            <div class="table-responsive log_table">
              <table class="table table-hover table-bordered">
                <thead>
                <tr>
                  <th>{{adHearders[0]}}</th>
                  <th>{{adHearders[1]}}</th>
                  <th>{{adHearders[2]}}</th>
                  <th>{{adHearders[3]}}</th>
                  <th>{{adHearders[4]}}</th>
                  <th>{{adHearders[5]}}</th>
                  <th>{{adHearders[6]}}</th>
                  <th class="text-center">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-if="adLogsDetail.data.length == 0">
                  <td colspan="10" class="text-center">No Logs Found</td>
                </tr>
                <tr ng-repeat="adLog in adLogsDetail.data | filter:searchADLog">
                  <td><span style="width:40px; display:inline-block">{{adLog.srNo}}</span></td>
                  <td class="trim">
                    <p>{{!adLog.class_name? 'N/A' : adLog.class_name}}</p>
                  </td>
                  <td class="trim">
                    <p>{{!adLog.message? 'N/A' : adLog.message}}</p>
                  </td>
                  <td class="trim">
                    <p>{{adLog.trace}}</p>
                  </td>
                  <td class="trim">
                    <p>{{adLog.params}}</p>
                  </td>
                  <td class="trim">
                    <p>{{adLog.target_url}}</p>
                  </td>
                  <td>
                    <p style="white-space:nowrap;">{{adLog.created_at}}</p>
                  </td>
                  <td class="text-center trim">
                    <a href="" ng-click="openADView(adLog)"><i class="fa fa-eye fa-2x"></i><span>show</span></a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <!-- Modal -->
            <script type="text/ng-template" id="adLog.html">
              <div class="modal-body confirm-body">
                <a href="" class="cross" ng-click="close()"></a>
                <table class="table table-bordered">
                  <tr>
                    <th style="width:150px;">Error Class Name</th>
                    <td>{{!adLogData.class_name? 'N/A' : adLogData.class_name}}</td>
                  </tr>
                  <tr>
                    <th>Error Message</th>
                    <td>{{!adLogData.message? 'N/A' : adLogData.message}}</td>
                  </tr>
                  <tr>
                    <th>Error Trace</th>
                    <td>
                      <div class="hv_scroll">{{adLogData.trace}}</div>
                    </td>
                  </tr>
                  <tr>
                    <th>Params</th>
                    <td>{{adLogData.params}}</td>
                  </tr>
                  <tr>
                    <th>Target URL</th>
                    <td>{{adLogData.target_url}}</td>
                  </tr>
                  <th>Time Stamp</th>
                  <td>{{adLogData.created_at}}</td>
                  </tr>
                </table>
              </div>
            </script>

            <div class="row">
              <div class="col-sm-5">
                <div class="dataTables_info">Showing {{total_showingAD}} of {{adLogsDetail.total_record}} entries</div>
              </div>
              <div class="col-sm-7">
                <div class="dataTables_paginate paging_simple_numbers">
                  <!-- <ul class="pagination">
                    <li class="paginate_button previous" ng-class="{'disabled' : currentAUPage == 1}">
                      <a href="" ng-click="preAUPage(auNoOfPage)">«</a>
                    </li>
                    <li ng-repeat="aupage in auPaginationItems" ng-class="{'active' : aupage.pageno==currentAUPage}" ng-disable="">
                      <a href="" ng-click="updateAUPage(aupage.pageno, auNoOfPage)">{{aupage.pageno}}</a>
                    </li>
                    <li class="paginate_button next" ng-class="{'disabled' : currentAUPage == auLogsDetail.total_page}">
                      <a href="" ng-click="nextAUPage(auNoOfPage)">»</a>
                    </li>
                  </ul> -->
                  <paging
                  page="currentADPage"
                  page-size="adNoOfPage"
                  total="adLogsDetail.total_record"
                  paging-action="updateADPage(page, adNoOfPage)"
                  show-prev-next="true"
                  show-first-last="true"
                  text-next="›"
                  text-prev="‹"
                  text-first="&laquo;"
                  text-last="&raquo;"
                  >
                  </paging>
                </div>
              </div>
            </div>
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->

  </section>
  <!-- /.content -->
</div>


</body>



